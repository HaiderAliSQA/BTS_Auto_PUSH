{"collection":{"info":{"_postman_id":"0b6faac0-94da-4eeb-b187-9ed1bbba4184","name":"BTS","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json","updatedAt":"2025-05-19T07:18:08.000Z","createdAt":"2025-04-23T06:53:53.000Z","lastUpdatedBy":"23122877","uid":"23122877-0b6faac0-94da-4eeb-b187-9ed1bbba4184"},"item":[{"name":"Blue Print","item":[{"name":"Signin / Login","event":[{"listen":"test","script":{"id":"1a8f6498-6d82-4301-9135-aa5ae141939c","exec":["let setCookieHeader = pm.response.headers.get(\"Set-Cookie\");\r","\r","if (setCookieHeader) {\r","    // Extract bts_access_token from full cookie string\r","    let match = setCookieHeader.match(/bts_access_token=([^;]+)/);\r","    \r","    if (match && match[1]) {\r","        let token = match[1];\r","        pm.environment.set(\"auth_cookie\", token);\r","        pm.environment.set(\"auth_cookie_time\", Date.now());\r","        console.log(\"âœ… bts_access_token saved :\", token);\r","    } else {\r","        console.log(\"âŒ bts_access_token not found in Set-Cookie header.\");\r","    }\r","} else {\r","    console.log(\"âŒ Set-Cookie header not found.\");\r","}\r","\r","// ye Bas login ki call check krny ky leay ky login ki call kitni purani hy kiyaa login ki call ko dubaraaa heii lgani hy ye ni \r","let rawCookie = pm.response.headers.get(\"Set-Cookie\");\r","pm.environment.set(\"auth_cookie\", rawCookie);\r","pm.environment.set(\"auth_cookie_time\", Date.now()); // Save time for expiry check\r","console.log(\"Cookie and timestamp saved.\");\r","\r","\r","//====================================================================\r","\r","//  Asserttion ko dykhnay ka Treqaaaa \r","\r","// âœ… Assertion: Status code check\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","// âœ… Assertion: Set-Cookie header check\r","pm.test(\"Set-Cookie header is present\", function () {\r","    pm.expect(pm.response.headers.has(\"Set-Cookie\")).to.be.true;\r","});\r","\r","// âœ… Logic: Get Set-Cookie header\r","//let setCookieHeader = pm.response.headers.get(\"Set-Cookie\");\r","\r","if (setCookieHeader) {\r","    // âœ… Extract token\r","    let match = setCookieHeader.match(/bts_access_token=([^;]+)/);\r","    \r","    // âœ… Assertion: Token found\r","    pm.test(\"bts_access_token found in Set-Cookie\", function () {\r","        pm.expect(match && match[1]).to.not.be.undefined;\r","    });\r","\r","    if (match && match[1]) {\r","        let token = match[1];\r","        pm.environment.set(\"auth_cookie\", token);\r","        pm.environment.set(\"auth_cookie_time\", Date.now());\r","        console.log(\"âœ… bts_access_token saved:\", token);\r","    } else {\r","        console.log(\"âŒ bts_access_token not found in Set-Cookie header.\");\r","    }\r","} else {\r","    console.log(\"âŒ Set-Cookie header not found.\");\r","}\r","\r","// âœ… Also save raw cookie\r","pm.environment.set(\"auth_cookie_raw\", setCookieHeader || \"\");\r","pm.environment.set(\"auth_cookie_time\", Date.now());\r","console.log(\"Cookie and timestamp saved.\");\r",""],"type":"text/javascript","packages":{}}},{"listen":"prerequest","script":{"id":"0b92bedb-c34f-422a-b84d-0df340fd17f1","exec":[""],"type":"text/javascript","packages":{}}}],"id":"904fb59e-be40-4bc5-9d86-888f9b9fbad0","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n \"userName\": \"{{userName56000}}\",\r\n  \"password\": \"{{password56000}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/auth/signin","host":["{{base_url}}"],"path":["bts","api","v1","auth","signin"]}},"response":[],"uid":"23122877-904fb59e-be40-4bc5-9d86-888f9b9fbad0"},{"name":"Create Activity","event":[{"listen":"test","script":{"id":"8f23af08-5531-4405-a71e-ca69ccbf8f47","exec":["const json = pm.response.json();\r","const activity_id = json.data ? json.data.id : null;\r","\r","if (activity_id) {\r","    console.log(\"ðŸ“Œ Activity ID from response:\", activity_id);\r","\r","    // Store in new global variable\r","    pm.globals.set(\"Activity_ID\", activity_id);\r","\r","    // Optional: Also store in environment if needed\r","    pm.environment.set(\"Activity_ID\", activity_id);\r","} else {\r","    console.log(\"âŒ Activity ID not found in response.\");\r","}\r",""],"type":"text/javascript","packages":{}}},{"listen":"prerequest","script":{"id":"9063219a-1bab-49fb-956d-a855a109fa59","exec":["// --- Function to format date with +05:00 offset ---\r","function formatWithOffset(date, offsetHours) {\r","    const offsetMs = offsetHours * 60 * 60 * 1000;\r","    const local = new Date(date.getTime() + offsetMs);\r","    const pad = (n) => n.toString().padStart(2, '0');\r","    return `${local.getFullYear()}-${pad(local.getMonth() + 1)}-${pad(local.getDate())}T${pad(local.getHours())}:${pad(local.getMinutes())}:${pad(local.getSeconds())}+05:00`;\r","}\r","\r","// --- Current date for createdDate ---\r","let now = new Date();\r","let createdDate = formatWithOffset(now, 5);\r","pm.environment.set(\"createdDate\", createdDate);\r","\r","// --- Random start and end time with 15 mins gap in 2023â€“2025 ---\r","const randomYear = Math.floor(Math.random() * (2025 - 2023 + 1)) + 2023;\r","const randomMonth = Math.floor(Math.random() * 12);\r","const randomDay = Math.floor(Math.random() * 28) + 1;\r","const randomHour = Math.floor(Math.random() * 24);\r","const randomMinute = Math.floor(Math.random() * 60);\r","\r","let start = new Date(Date.UTC(randomYear, randomMonth, randomDay, randomHour, randomMinute, 0));\r","let end = new Date(start.getTime() + 15 * 60 * 1000); // +15 mins\r","\r","pm.environment.set(\"start_time\", start.toISOString());\r","pm.environment.set(\"end_time\", end.toISOString());\r","\r","// --- Current date and time for title ---\r","const date = now.toISOString().split('T')[0]; // e.g., \"2025-04-29\"\r","const time = now.toTimeString().split(' ')[0].slice(0, 5); // e.g., \"14:45\"\r","pm.environment.set(\"current_datetime\", `${date} ${time}`);\r",""],"type":"text/javascript","packages":{}}}],"id":"975eded5-a60e-42c1-92f0-d3bfb353b5ee","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \r\n  \"activityNote\": \"(OT) RG EVALUATION Postman sy Create kro Notes\",\r\n  \"client\": {\r\n    \"id\": 674652,\r\n    \"name\": \"Is Placement School Activity\"\r\n  },\r\n  \"duration\": 15,\r\n  \"location\": {\r\n    \"id\": 674656,\r\n    \r\n    \"createdDate\": \"2025-02-20T00:00:00+05:00\",\r\n   \r\n    \"client\": {\r\n      \"id\": 674652,\r\n     \r\n      \"name\": \"Is Placement School Activity\"\r\n    },\r\n    \"title\": \"Is Placement School Activity\"\r\n  },\r\n  \"occurenceType\": \"DAILY\",\r\n  \r\n  \"provider\": {\r\n    \"id\": 474239,\r\n    \"email\": \"ha5600045@gmail.com\",\r\n    \"password\": \"@123ABC!\",\r\n    \"active\": true,\r\n    \r\n    \"createdDate\": \"{{createdDate}}\",\r\n    \"dateOfBirth\": \"1998-05-12T00:00:00+05:00\",\r\n    \"defaultRate\": 65,\r\n  \r\n    \"employeeId\": \"471601\",\r\n  \r\n    \"firstName\": \"Haider\",\r\n    \"fullName\": \"Haider lycus\",\r\n    \"isSalaried\": true,\r\n    \"lastName\": \"lycus\",\r\n    \"middleName\": \"Ali\",\r\n    \"mobileNo\": \"(4\",\r\n \r\n    \"oauthId\": \"00000000-0000-0000-dfb4-32389212fbfc\",\r\n    \"overTimeRate\": 15,\r\n    \"phone\": \"\",\r\n    \"prefDuration\": 45,\r\n    \"profilePic\": \"\",\r\n    \"role\": \"ADMIN\",\r\n    \"salaryAmountPerPeriod\": 173040,\r\n    \"secondaryRate\": 98,\r\n\r\n   \r\n    \"updatedBy\": 474239,\r\n    \"updatedDate\": \"2025-04-29T00:00:00+05:00\"\r\n  },\r\n  \"startDateTime\": \"{{start_time}}\",\r\n  \"students\": [],\r\n  \"title\": \"(OT) RG EVALUATION Postman sy Create kro\",\r\n\t\"isJoint\": false,\r\n  \"wbs\": {\r\n    \"id\": 470893,\r\n    \"title\": \"(OT) RG EVALUATION\"\r\n  }\r\n}\r\n","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session","host":["{{base_url}}"],"path":["bts","api","v1","session"]}},"response":[],"uid":"23122877-975eded5-a60e-42c1-92f0-d3bfb353b5ee"},{"name":"Get Activity by ID.","event":[{"listen":"prerequest","script":{"id":"17b2dc89-6f9a-4dc6-b2c9-1932311186b7","exec":["console.log(\"Token is: \", pm.environment.get(\"auth_token\"));\r",""],"type":"text/javascript","packages":{}}},{"listen":"test","script":{"id":"50a7ba38-dfca-4cdf-b988-bae6b4dd085c","exec":["// 1. Status and basic structure\r","pm.test(\"Successful response\", () => {\r","    pm.expect(pm.response.json().status).to.eql(\"SUCCESSFUL\");\r","    pm.expect(pm.response.json().error).to.be.null;\r","});\r","\r","// 2. Core activity validation\r","pm.test(\"Activity has valid data\", () => {\r","    const data = pm.response.json().data;\r","    pm.expect(data.id).to.be.a('number').and.to.be.above(0);\r","    pm.expect(data.status).to.eql(\"POSTED\");\r","    pm.expect(data.duration).to.eql(15);\r","    pm.expect(data.deleted).to.be.true;\r","});\r","\r","// 3. Date/time validation\r","pm.test(\"Valid timestamps\", () => {\r","    const data = pm.response.json().data;\r","    pm.expect(new Date(data.startDateTime)).to.be.a('date');\r","    pm.expect(new Date(data.endDateTime)).to.be.a('date');\r","    pm.expect(new Date(data.endDateTime) > new Date(data.startDateTime)).to.be.true;\r","});\r","\r","// 4. Nested object checks\r","pm.test(\"Key relationships exist\", () => {\r","    const data = pm.response.json().data;\r","    pm.expect(data.client.id).to.be.a('number');\r","    pm.expect(data.provider.fullName).to.eql(\"Haider lycus\");\r","    pm.expect(data.wbs.title).to.include(\"EVALUATION\");\r","});"],"type":"text/javascript","packages":{}}}],"id":"bc969ffa-ac57-474d-a5c6-2a0b658d37f0","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"noauth"},"method":"GET","header":[],"body":{"mode":"raw","raw":"","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session/{{Activity_ID}}","host":["{{base_url}}"],"path":["bts","api","v1","session","{{Activity_ID}}"]}},"response":[],"uid":"23122877-bc969ffa-ac57-474d-a5c6-2a0b658d37f0"},{"name":"Delete Activity by id","event":[{"listen":"test","script":{"id":"cbe4b24c-7f32-4268-a560-fa67ebe9e46d","exec":[""],"type":"text/javascript","packages":{}}}],"id":"8320d718-dfea-4d2e-9471-ee5510e172ab","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[],"url":{"raw":"{{base_url}}/bts/api/v1/session/{{Activity_ID}}","host":["{{base_url}}"],"path":["bts","api","v1","session","{{Activity_ID}}"]}},"response":[],"uid":"23122877-8320d718-dfea-4d2e-9471-ee5510e172ab"},{"name":"Create Client location","event":[{"listen":"test","script":{"id":"8bea0805-8525-4b36-bed9-464e1b0c91fc","exec":["const json = pm.response.json();\r","const clientName = json.data.client.name;\r","\r","// Console pe print karo\r","console.log(\"ðŸ“Œ Client Name from response:\", clientName);\r","\r","// Global variable mein store karo (taake kisi bhi folder/request mein use ho sake)\r","pm.globals.set(\"Randum_Client_Name\", clientName);\r","\r","// Optional: environment variable mein bhi store kar sakte ho (if preferred)\r","pm.environment.set(\"Randum_Client_Name\", clientName);\r",""],"type":"text/javascript","packages":{}}}],"id":"21abaa57-e7a3-42aa-88f4-687d72d4e51a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"title\" : \"Location + {{$randomFullName}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/client-location/681839/client","host":["{{base_url}}"],"path":["bts","api","v1","client-location","681839","client"]}},"response":[],"uid":"23122877-21abaa57-e7a3-42aa-88f4-687d72d4e51a"},{"name":"Update Client Location","event":[{"listen":"test","script":{"id":"74f828e5-6f88-4c7b-a20e-e27cc9674dad","exec":["const json = pm.response.json();\r","const data = json.data;\r","const client = data.client;\r","\r","pm.test(\"Status & Error\", () => {\r","    pm.expect(json.status).to.eql(\"SUCCESSFUL\");\r","    pm.expect(json.error).to.be.null;\r","});\r","\r","pm.test(\"Validate data object\", () => {\r","    pm.expect(data).to.be.an('object');\r","    pm.expect(data.id).to.be.a('number').and.to.be.above(0);\r","    pm.expect(data.title).to.include(\"Location\").and.to.include(\"Edit\");\r","    pm.expect(data.deleted).to.be.false;\r","});\r","\r","pm.test(\"Validate created fields\", () => {\r","    pm.expect(new Date(data.createdDate)).to.be.a('date');\r","    pm.expect(data.createdBy).to.be.a('number');\r","    pm.expect(data.createdByUserName).to.eql(\"\");\r","});\r","\r","pm.test(\"Client structure\", () => {\r","    pm.expect(client.id).to.be.a('number');\r","    pm.expect(client.name).to.match(/^Postman-Randum-Name\\d{4}$/);\r","    [\"employeeId\", \"title\", \"phone\", \"email\"].forEach(field => {\r","        pm.expect(client[field]).to.be.null;\r","    });\r","});\r","\r","pm.test(\"Store IDs\", () => {\r","    pm.environment.set(\"new_location_id\", data.id);\r","    pm.environment.set(\"client_id\", client.id);\r","    let clientId = pm.environment.get(\"client_id\");\r","    console.log(\"Client ID is:\", clientId);\r","    //Location ID ko Print krwaaa kr dykhnaaa \r","    let new_location_id = pm.environment.get(\"new_location_id\");\r","    console.log(\"new_location ID is:\", new_location_id); \r","  \r","});\r","\r","\r",""],"type":"text/javascript","packages":{}}}],"id":"d03c515c-c379-4c5f-bad2-709cf665ca46","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[],"body":{"mode":"raw","raw":"{\r\n    \"title\" : \"Location + Edit  + {{$randomFullName}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/client-location/{{client_id}}/client","host":["{{base_url}}"],"path":["bts","api","v1","client-location","{{client_id}}","client"]}},"response":[],"uid":"23122877-d03c515c-c379-4c5f-bad2-709cf665ca46"},{"name":"Create Activity","event":[{"listen":"test","script":{"id":"8f23af08-5531-4405-a71e-ca69ccbf8f47","exec":["const json = pm.response.json();\r","\r","// âœ… Assertions\r","pm.test(\"Status code is 201\", function () {\r","    pm.response.to.have.status(201);\r","});\r","\r","pm.test(\"Response status is SUCCESSFUL\", function () {\r","    pm.expect(json.status).to.eql(\"SUCCESSFUL\");\r","});\r","\r","pm.test(\"Response contains data object\", function () {\r","    pm.expect(json.data).to.be.an('object');\r","});\r","\r","// Extract just the startDateTime\r","const startDateTime = pm.response.json().data.startDateTime;\r","\r","// Store as global variable\r","pm.globals.set(\"Activity_start_date_time\", startDateTime);\r","\r","// Log for verification\r","console.log(\"â° Start DateTime Stored:\", pm.globals.get(\"Activity_start_date_time\"));\r","\r","\r","// âœ… Extract all required IDs\r","const activity_idS  = json.data?.id;\r","const client_id    = json.data?.client?.id;\r","const location_id  = json.data?.location?.id;\r","const provider_id  = json.data?.provider?.id;\r","const wbs_id       = json.data?.wbs?.id;\r","\r","// âœ… ID Assertions\r","pm.test(\"Activity ID is valid\", () => pm.expect(activity_idS).to.be.a(\"number\").and.to.be.above(0));\r","pm.test(\"Client ID is valid\", () => pm.expect(client_id).to.be.a(\"number\").and.to.be.above(0));\r","pm.test(\"Location ID is valid\", () => pm.expect(location_id).to.be.a(\"number\").and.to.be.above(0));\r","pm.test(\"Provider ID is valid\", () => pm.expect(provider_id).to.be.a(\"number\").and.to.be.above(0));\r","pm.test(\"WBS ID is valid\", () => pm.expect(wbs_id).to.be.a(\"number\").and.to.be.above(0));\r","\r","// âœ… Store in Environment\r","pm.environment.set(\"activity_idS\", activity_idS);\r","pm.environment.set(\"client_id\", client_id);\r","pm.environment.set(\"location_id\", location_id);\r","pm.environment.set(\"provider_id\", provider_id);\r","pm.environment.set(\"wbs_id\", wbs_id);\r","\r","// âœ… Also Store in Global\r","pm.globals.set(\"activity_idS\", activity_idS);\r","pm.globals.set(\"client_id\", client_id);\r","pm.globals.set(\"location_id\", location_id);\r","pm.globals.set(\"provider_id\", provider_id);\r","pm.globals.set(\"wbs_id\", wbs_id);\r","\r","// ðŸ§¾ Console logs for debug\r","// console.log(\"âœ… Extracted & Stored IDs:\");\r","// console.log(\"activity_idS:\", activity_idS);\r","// console.log(\"client_id:\", client_id);\r","// console.log(\"location_id:\", location_id);\r","// console.log(\"provider_id:\", provider_id);\r","// console.log(\"wbs_id:\", wbs_id);\r",""],"type":"text/javascript","packages":{}}},{"listen":"prerequest","script":{"id":"85b5cb30-18bf-41ce-a977-d0aada4016dc","exec":["// ---- For createdDate (always current date in +05:00) ----\r","function formatWithOffset(date, offsetHours) {\r","    const offsetMs = offsetHours * 60 * 60 * 1000;\r","    const local = new Date(date.getTime() + offsetMs);\r","    const pad = (n) => n.toString().padStart(2, '0');\r","    return `${local.getFullYear()}-${pad(local.getMonth() + 1)}-${pad(local.getDate())}T${pad(local.getHours())}:${pad(local.getMinutes())}:${pad(local.getSeconds())}+05:00`;\r","}\r","\r","let now = new Date();\r","let createdDate = formatWithOffset(now, 5); // +05:00\r","pm.environment.set(\"createdDate\", createdDate);\r","\r","// ---- For start_time & end_time (random in 2023â€“2025 with 15 min gap) ----\r","const randomYear = Math.floor(Math.random() * (2025 - 2023 + 1)) + 2023;\r","const randomMonth = Math.floor(Math.random() * 12);\r","const randomDay = Math.floor(Math.random() * 28) + 1;\r","const randomHour = Math.floor(Math.random() * 24);\r","const randomMinute = Math.floor(Math.random() * 60);\r","\r","let start = new Date(Date.UTC(randomYear, randomMonth, randomDay, randomHour, randomMinute, 0));\r","let end = new Date(start.getTime() + 15 * 60 * 1000);\r","\r","pm.environment.set(\"start_time\", start.toISOString());\r","pm.environment.set(\"end_time\", end.toISOString());\r","// ---- For duration (15 min) ----\r",""],"type":"text/javascript","packages":{}}}],"id":"e2e44b0f-f75f-4702-b969-a0a248c8f3b2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \r\n  \"activityNote\": \"(OT) RG EVALUATION Postman sy Create kro Notes\",\r\n  \"client\": {\r\n    \"id\": 674652,\r\n    \"name\": \"Is Placement School Activity\"\r\n  },\r\n  \"duration\": 15,\r\n  \"location\": {\r\n    \"id\": 674656,\r\n    \r\n    \"createdDate\": \"2025-02-20T00:00:00+05:00\",\r\n   \r\n    \"client\": {\r\n      \"id\": 674652,\r\n     \r\n      \"name\": \"Is Placement School Activity\"\r\n    },\r\n    \"title\": \"Is Placement School Activity\"\r\n  },\r\n  \"occurenceType\": \"DAILY\",\r\n  \r\n  \"provider\": {\r\n    \"id\": 474239,\r\n    \"email\": \"ha5600045@gmail.com\",\r\n    \"password\": \"@123ABC!\",\r\n    \"active\": true,\r\n    \r\n    \"createdDate\": \"{{createdDate}}\",\r\n    \"dateOfBirth\": \"1998-05-12T00:00:00+05:00\",\r\n    \"defaultRate\": 65,\r\n  \r\n    \"employeeId\": \"471601\",\r\n  \r\n    \"firstName\": \"Haider\",\r\n    \"fullName\": \"Haider lycus\",\r\n    \"isSalaried\": true,\r\n    \"lastName\": \"lycus\",\r\n    \"middleName\": \"Ali\",\r\n    \"mobileNo\": \"(4\",\r\n \r\n    \"oauthId\": \"00000000-0000-0000-dfb4-32389212fbfc\",\r\n    \"overTimeRate\": 15,\r\n    \"phone\": \"\",\r\n    \"prefDuration\": 45,\r\n    \"profilePic\": \"\",\r\n    \"role\": \"ADMIN\",\r\n    \"salaryAmountPerPeriod\": 173040,\r\n    \"secondaryRate\": 98,\r\n\r\n   \r\n    \"updatedBy\": 474239,\r\n    \"updatedDate\": \"2025-04-29T00:00:00+05:00\"\r\n  },\r\n  \"startDateTime\": \"{{start_time}}\",\r\n  \"students\": [],\r\n  \"title\": \"(OT) RG EVALUATION Postman sy Create kro\",\r\n\t\"isJoint\": false,\r\n  \"wbs\": {\r\n    \"id\": 470893,\r\n    \"title\": \"(OT) RG EVALUATION\"\r\n  }\r\n}\r\n","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session","host":["{{base_url}}"],"path":["bts","api","v1","session"]}},"response":[],"uid":"23122877-e2e44b0f-f75f-4702-b969-a0a248c8f3b2"},{"name":"Delete Client Location","event":[{"listen":"test","script":{"id":"70ab1cfb-ba31-4ac6-92b7-c3191fb4b21d","exec":["let new_location_id = pm.environment.get(\"new_location_id\");\r","console.log(\"Now Location is Deleted and the Locatrion IS is :\", new_location_id);"],"type":"text/javascript","packages":{}}}],"id":"ed323742-2a05-4033-8cac-e3362fe90288","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[],"url":{"raw":"{{base_url}}/bts/api/v1/client-location/{{new_location_id}}","host":["{{base_url}}"],"path":["bts","api","v1","client-location","{{new_location_id}}"]}},"response":[],"uid":"23122877-ed323742-2a05-4033-8cac-e3362fe90288"},{"name":"Series Activity Create / Days","event":[{"listen":"test","script":{"id":"7f498f69-ce77-4562-9394-032ee27eb5c9","exec":["const json = pm.response.json();\r","const activity_id_Series = json.data ? json.data.id : null; // Check if 'id' exists in the response data\r","\r","// âœ… Test to verify 'id' exists\r","pm.test('Activity ID is not null', function () {\r","    pm.expect(activity_id_Series).to.not.be.null;\r","});\r","\r","// âœ… If the ID exists, store as global variable only\r","if (activity_id_Series) {\r","    console.log(\"ðŸ“Œ Activity ID from response:\", activity_id_Series);\r","\r","    // Store in GLOBAL variable\r","    pm.globals.set(\"activity_id_Series_Days\", activity_id_Series);\r","} else {\r","    console.log(\"âŒ Activity ID not found in response.\");\r","}\r","\r","console.log(\"ðŸ“¤ Value being set to global Activity_ID:\", activity_id_Series);\r",""],"type":"text/javascript","packages":{}}},{"listen":"prerequest","script":{"id":"ab7cba52-81b3-49c0-9bd1-0bad924c4aab","exec":["// --- Function to format date with +05:00 offset ---\r","function formatWithOffset(date, offsetHours) {\r","    const offsetMs = offsetHours * 60 * 60 * 1000;\r","    const local = new Date(date.getTime() + offsetMs);\r","    const pad = (n) => n.toString().padStart(2, '0');\r","    return `${local.getFullYear()}-${pad(local.getMonth() + 1)}-${pad(local.getDate())}T${pad(local.getHours())}:${pad(local.getMinutes())}:${pad(local.getSeconds())}+05:00`;\r","}\r","\r","// --- Current date for createdDate ---\r","let now = new Date();\r","let createdDate = formatWithOffset(now, 5);\r","pm.environment.set(\"createdDate\", createdDate);\r","\r","// --- Random start and end time with 15 mins gap in 2023â€“2025 ---\r","const randomYear = Math.floor(Math.random() * (2025 - 2023 + 1)) + 2023;\r","const randomMonth = Math.floor(Math.random() * 12);\r","const randomDay = Math.floor(Math.random() * 28) + 1;\r","const randomHour = Math.floor(Math.random() * 24);\r","const randomMinute = Math.floor(Math.random() * 60);\r","\r","let start = new Date(Date.UTC(randomYear, randomMonth, randomDay, randomHour, randomMinute, 0));\r","let end = new Date(start.getTime() + 15 * 60 * 1000); // +15 mins\r","\r","pm.environment.set(\"start_time\", start.toISOString());\r","pm.environment.set(\"end_time\", end.toISOString());\r","\r","// --- Current date and time for title ---\r","const date = now.toISOString().split('T')[0]; // e.g., \"2025-04-29\"\r","const time = now.toTimeString().split(' ')[0].slice(0, 5); // e.g., \"14:45\"\r","pm.environment.set(\"current_datetime\", `${date} ${time}`);\r",""],"type":"text/javascript","packages":{}}}],"id":"6f7a8d0d-c205-478a-90a3-45fc9066de87","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"id\": null,\r\n  \"active\": false,\r\n  \"activityNote\": \"test \",\r\n  \"client\": {\r\n    \"id\": 674652,\r\n    \"name\": \" Is Placement School Activity \"\r\n  },\r\n  \"duration\": 30,\r\n  \"endAfter\": 2,\r\n   \"isJoint\": false,\r\n  \"location\": {\r\n    \"id\": 674656,\r\n    \"createdDate\": \"2025-02-20T00:00:00+05:00\",\r\n    \"client\": {\r\n      \"id\": 674652,\r\n      \"name\": \" Is Placement School Activity \"\r\n    },\r\n    \"title\": \"Placement School Location\"  // âœ… Added this field\r\n  },\r\n  \"occurenceType\": \"DAILY\",\r\n  \"provider\": {\r\n    \"id\": 474239,\r\n    \"email\": \"ha5600045@gmail.com\",\r\n    \"password\": \"@123ABC!\",\r\n    \"active\": true,\r\n    \"createdDate\": \"2023-05-12T00:00:00+05:00\",\r\n    \"defaultRate\": 65,\r\n    \"dateOfBirth\": \"1998-05-12T00:00:00+05:00\",\r\n    \"employeeId\": \"471601\",\r\n    \"firstName\": \"Haider\",\r\n    \"lastName\": \"lycus\",\r\n    \"middleName\": \"Ali\",\r\n    \"mobileNo\": \"(4\",\r\n    \"oauthId\": \"00000000-0000-0000-dfb4-32389212fbfc\",\r\n    \"phone\": \"\",\r\n    \"profilePic\": \"\",\r\n    \"salaryAmountPerPeriod\": 173040,\r\n    \"secondaryRate\": 98,\r\n    \"themePreference\": null,\r\n    \"serviceTypes\": null,\r\n    \"fullName\": \"Haider lycus\"\r\n  },\r\n  \"recurring\": true,\r\n  \"startDateTime\": \"{{start_time}}\",\r\n  \"students\": [\r\n    {\r\n      \"id\": null,\r\n      \"deleted\": false,\r\n      \"student\": {\r\n        \"id\": 674657,\r\n        \"firstName\": \" Is Placement School Activity \",\r\n        \"middleName\": null,\r\n        \"lastName\": \"Student 0001\",\r\n        \"updatedBy\": null,\r\n        \"updatedDate\": null,\r\n        \"createdDate\": \"2025-02-20T07:08:59.031Z\"\r\n      },\r\n      \"client\": {\r\n        \"id\": 674652,\r\n        \"employeeId\": null,\r\n        \"title\": null,\r\n        \"name\": \" Is Placement School Activity \"\r\n      },\r\n      \"createdByUserName\": null,\r\n      \"updatedByUserName\": null,\r\n      \"fullNameWithClient\": \"Student 0001  Is Placement School Activity  ( Is Placement School Activity )\"\r\n    }\r\n  ],\r\n  \"submitted\": false,\r\n  \"submittedBy\": null,\r\n  \"submittedDate\": null,\r\n  \"title\": \"(SLP) EVALUATION\",\r\n  \"totalHoursBillable\": null,\r\n  \"wbs\": {\r\n    \"id\": 470885,\r\n    \"title\": \"(SLP) EVALUATION\"\r\n  }\r\n}\r\n","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session","host":["{{base_url}}"],"path":["bts","api","v1","session"]}},"response":[],"uid":"23122877-6f7a8d0d-c205-478a-90a3-45fc9066de87"},{"name":"Series Activity Create / Days","event":[{"listen":"test","script":{"id":"648ae920-7d93-4a31-9755-36342f692174","exec":["const json = pm.response.json();\r","\r","// âœ… Check response status code\r","pm.test(\"If activity_id_list is exist then activity is Deleted and  Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","// âœ… Check status is SUCCESSFUL\r","pm.test(\"Response status is SUCCESSFUL\", function () {\r","    pm.expect(json.status).to.eql(\"SUCCESSFUL\");\r","});\r","\r","// âœ… Check data is 0\r","pm.test(\"Data is 0 (No content returned)\", function () {\r","    pm.expect(json.data).to.eql(0);\r","});\r","\r","// âœ… Error field is null\r","pm.test(\"Error is null\", function () {\r","    pm.expect(json.error).to.be.null;\r","});\r",""],"type":"text/javascript","packages":{}}}],"id":"38f1d000-8c6f-47c6-8194-a89085b4c104","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[],"url":{"raw":"{{base_url}}/bts/api/v1/session/series/{{activity_id_Series_Days}}","host":["{{base_url}}"],"path":["bts","api","v1","session","series","{{activity_id_Series_Days}}"]}},"response":[],"uid":"23122877-38f1d000-8c6f-47c6-8194-a89085b4c104"},{"name":"Unpost to Post Activity","event":[{"listen":"test","script":{"id":"773b4808-b47e-4b8a-bb65-77ab3364cb57","exec":["const json = pm.response.json();\r","\r","pm.test(\"1 Activity is posted SUCCESSFULLY Response time is under 1000ms , Sab bahtreen hy \", function () {\r","    pm.expect(pm.response.responseTime).to.be.below(1000);\r","});\r","\r","console.log(\" 1 Activity is posted SUCCESSFULLY\")\r","\r","// âœ… Check response code\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","// âœ… Check status value\r","pm.test(\"Response status is SUCCESSFUL\", function () {\r","    pm.expect(json.status).to.eql(\"SUCCESSFUL\");\r","});\r","\r","// âœ… Check data message is correct\r","pm.test(\"Data message is correct\", function () {\r","    pm.expect(json.data).to.eql(\"Activity status updated.\");\r","});\r","\r","// âœ… Error field is null\r","pm.test(\"Error field should be null , Koi error ni hy \", function () {\r","    pm.expect(json.error).to.be.null;\r","});\r","\r","// âœ… Response time is acceptable\r","\r",""],"type":"text/javascript","packages":{}}}],"id":"aa91aea4-cb98-4665-896e-5d4afad5396f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[],"body":{"mode":"raw","raw":"[\r\n  {{Activity_ID}}\r\n]","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session/status?status=POSTED","host":["{{base_url}}"],"path":["bts","api","v1","session","status"],"query":[{"key":"status","value":"POSTED"}]}},"response":[],"uid":"23122877-aa91aea4-cb98-4665-896e-5d4afad5396f"},{"name":"Fetch All Activity in Unposted","event":[{"listen":"prerequest","script":{"id":"6dfe033d-acc4-4632-ba82-ae68de6985eb","exec":[""],"type":"text/javascript","packages":{}}},{"listen":"test","script":{"id":"74f4be64-d495-41dd-bf80-971dd348527f","exec":["const json = pm.response.json();\r","\r","// Ensure data is an array\r","if (Array.isArray(json.data?.resultList)) {\r","    const idList = json.data.resultList.map(item => item.id); // Extract all IDs\r","\r","    // Log result\r","    console.log(\"ðŸ“Œ Extracted IDs:\", idList);\r","\r","    // Save as environment variable (array stringified)\r","    pm.environment.set(\"activity_id_list\", JSON.stringify(idList));\r","} else {\r","    console.log(\"âŒ Response data is not an array\");\r","}\r","\r","//===============================\r","\r","// 1. Verify response contains data.resultList array\r","pm.test(\"Koi Activity Mujood ni hy ! is leay fail hova test  Response contains resultList array\", () => {\r","    pm.expect(json.data?.resultList).to.be.an('array').and.to.not.be.empty;\r","});\r","\r","// 2. Check all items have numeric IDs\r","pm.test(\"All items have valid IDs\", () => {\r","    json.data.resultList.forEach((item, index) => {\r","        pm.expect(item, `Item ${index} missing ID`).to.have.property('id');\r","        pm.expect(item.id, `ID at index ${index}`).to.be.a('number').and.to.be.above(0);\r","    });\r","});\r","\r","// 3. Validate environment variable was set correctly\r","pm.test(\"ID list saved to environment\", () => {\r","    const idList = JSON.parse(pm.environment.get(\"activity_id_list\"));\r","    pm.expect(idList).to.be.an('array').with.lengthOf(json.data.resultList.length);\r","    pm.expect(idList).to.eql(json.data.resultList.map(item => item.id));\r","});\r","\r","// 4. Verify no duplicate IDs\r","pm.test(\"No duplicate IDs exist\", () => {\r","    const idList = json.data.resultList.map(item => item.id);\r","    const uniqueIds = [...new Set(idList)];\r","    pm.expect(uniqueIds.length).to.eql(idList.length);\r","});"],"type":"text/javascript","packages":{}}}],"id":"9761832d-915a-4b84-9fad-9ec08a6dc21b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \r\n  \"providerIds\": [\r\n    474239\r\n  ],\r\n  \"startDateTime\": \"2023-04-30T19:00:00.000Z\",\r\n  \"endDateTime\": \"2025-05-06T19:00:00.000Z\",\r\n \r\n  \"joint\": null,\r\n  \"placement\": null,\r\n  \"status\": \"UNPOSTED\",\r\n  \r\n \r\n  \"excludeBilled\": false\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session/search/simple?pageSize=1000&pageNo=0&sortColumn=startDateTime&sortDirection=ASC&students=false&notes=false","host":["{{base_url}}"],"path":["bts","api","v1","session","search","simple"],"query":[{"key":"pageSize","value":"1000"},{"key":"pageNo","value":"0"},{"key":"sortColumn","value":"startDateTime"},{"key":"sortDirection","value":"ASC"},{"key":"students","value":"false"},{"key":"notes","value":"false"}]}},"response":[],"uid":"23122877-9761832d-915a-4b84-9fad-9ec08a6dc21b"},{"name":"Post All Activity from Unposted","event":[{"listen":"prerequest","script":{"id":"3a41ed09-f0f1-490d-b285-c80b23b44d1f","exec":["console.log(pm.environment.get(\"activity_id_list\"));\r",""],"type":"text/javascript","packages":{}}},{"listen":"test","script":{"id":"d04ea7b9-6a6d-46d7-939f-e126a3bcfbb6","exec":["const json = pm.response.json();\r","\r","// âœ… Check response code\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","// âœ… Check status value\r","pm.test(\"Response status is SUCCESSFUL\", function () {\r","    pm.expect(json.status).to.eql(\"SUCCESSFUL\");\r","});\r","\r","// âœ… Check data message is correct\r","pm.test(\"Data message is correct\", function () {\r","    pm.expect(json.data).to.eql(\"Activity status updated.\");\r","});\r","\r","// âœ… Error field is null\r","pm.test(\"Error field should be null , Koi error ni hy \", function () {\r","    pm.expect(json.error).to.be.null;\r","});\r","\r","// âœ… Response time is acceptable\r","pm.test(\"Response time is under 1000ms , Sab bahtreen hy \", function () {\r","    pm.expect(pm.response.responseTime).to.be.below(1000);\r","});\r",""],"type":"text/javascript","packages":{}}}],"id":"3c254dcf-3373-4589-94bf-4206da7225b6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[],"body":{"mode":"raw","raw":"\r\n    {{activity_id_list}}\r\n","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session/status?status=POSTED","host":["{{base_url}}"],"path":["bts","api","v1","session","status"],"query":[{"key":"status","value":"POSTED"}]}},"response":[],"uid":"23122877-3c254dcf-3373-4589-94bf-4206da7225b6"},{"name":"Create Student","event":[{"listen":"test","script":{"id":"3638b8ed-286a-4d3c-92b6-34a35cc8827d","exec":["const json = pm.response.json();\r","\r","// âœ… Step 1: Extract Student ID dynamically\r","const studentId = json.data?.id;\r","\r","// âœ… Step 2: Assert Student ID is valid\r","pm.test(\"Student ID is present and valid\", function () {\r","    pm.expect(studentId).to.be.a(\"number\").and.to.be.above(0);\r","});\r","\r","// âœ… Step 3: Store Student ID in env + global for reuse\r","pm.environment.set(\"student_id\", studentId);\r","//pm.globals.set(\"student_id\", studentId);\r","\r","// âœ… Step 4: Log confirmation\r","console.log(\"ðŸ“Œ Stored student_id:\", studentId);\r","\r","// âœ… (Optional) Compare against same field in response\r","pm.test(\"Student ID matches response ID\", function () {\r","    pm.expect(json.data.id).to.eql(studentId);\r","});\r","\r","\r","// âœ… Store full objects as strings\r","pm.environment.set(\"client_obj\", JSON.stringify(json.data.client));\r","pm.environment.set(\"location_obj\", JSON.stringify(json.data.location));\r","pm.environment.set(\"providers_obj\", JSON.stringify(json.data.providers));\r","\r","// âœ… Store individual fields too if needed\r","pm.environment.set(\"client_id\", json.data.client.id);\r","pm.environment.set(\"location_id\", json.data.location.id);\r","pm.environment.set(\"provider_id\", json.data.providers[0]?.user?.id); // assuming first provider\r","\r","// ðŸ” Logging\r","console.log(\"Client Obj:\", json.data.client);\r","console.log(\"Location Obj:\", json.data.location);\r","console.log(\"Providers Obj:\", json.data.providers);\r","\r","\r","\r","// ðŸ›¡ Check if providers array exists and not empty\r","if (Array.isArray(json.data.providers) && json.data.providers.length > 0) {\r","    pm.environment.set(\"providers_obj\", JSON.stringify(json.data.providers));\r","    console.log(\"âœ… Providers stored:\", json.data.providers);\r","} else {\r","    console.warn(\"âš ï¸ No providers found in response\");\r","    pm.environment.set(\"providers_obj\", \"[]\"); // fallback\r","}\r","\r",""],"type":"text/javascript","packages":{}}},{"listen":"prerequest","script":{"id":"938a0273-f759-43cf-a633-380599e1c0aa","exec":[""],"type":"text/javascript","packages":{}}}],"id":"b526dacf-bf0c-4d2c-bcea-1a587a0b175c","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"active\": true,\r\n\r\n  \"client\": {\r\n    \"id\": 682427,\r\n    \"name\": \"Client Name  682009\",\r\n    \"poNumber\": \"PO Number 23457895\",\r\n    \"active\": null,\r\n    \"billingAttn\": \" Billing Attn 6543\",\r\n    \"billingOffice1\": \"Billing Office 1 001\",\r\n    \"billingOffice2\": \"Billing Office 2 002\",\r\n    \"createdBy\": 474239,\r\n  \r\n    \"defaultInvoiceFormat\": \"SIMPLIFIED\"\r\n   \r\n  },\r\n  \r\n  \"firstName\": \"Studetn 001 first Name + Postman3\",\r\n\r\n  \"lastName\": \"Student last Name\",\r\n  \"location\": {\r\n    \"id\": 684181,\r\n    \"client\": {\r\n      \"id\": 682427\r\n    }\r\n  },\r\n \r\n  \"providers\": [\r\n    {\r\n      \r\n      \"user\": {\r\n        \"id\": 474239\r\n      }\r\n    }\r\n  ]\r\n \r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/student","host":["{{base_url}}"],"path":["bts","api","v1","student"]}},"response":[],"uid":"23122877-b526dacf-bf0c-4d2c-bcea-1a587a0b175c"},{"name":"Get Student details","event":[{"listen":"test","script":{"id":"b90e3344-be60-42d5-90c0-6f00a9e1cac4","exec":["const json = pm.response.json();\r","pm.environment.set(\"client_obj\", JSON.stringify(json.data.client));\r","pm.environment.set(\"location_obj\", JSON.stringify(json.data.location));\r","pm.environment.set(\"providers_obj\", JSON.stringify(json.data.providers));\r","\r","// âœ… Store individual fields too if needed\r","pm.environment.set(\"client_id\", json.data.client.id);\r","pm.environment.set(\"location_id\", json.data.location.id);\r","pm.environment.set(\"provider_id\", json.data.providers[0]?.user?.id); // assuming first provider\r","\r","// ðŸ” Logging\r","console.log(\"Client Obj:\", json.data.client);\r","console.log(\"Location Obj:\", json.data.location);\r","console.log(\"Providers Obj:\", json.data.providers);\r",""],"type":"text/javascript","packages":{}}}],"id":"309b3cc2-4cb9-406e-b76f-0776ee659586","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/bts/api/v1/student/{{student_id}}","host":["{{base_url}}"],"path":["bts","api","v1","student","{{student_id}}"]}},"response":[],"uid":"23122877-309b3cc2-4cb9-406e-b76f-0776ee659586"},{"name":"Update Student","event":[{"listen":"prerequest","script":{"id":"4ef3cb3f-8d98-403b-8053-85dc156badbb","exec":["// ðŸ§  Random number to ensure uniqueness\r","const randomNum = Math.floor(1000 + Math.random() * 9000);\r","\r","// âœ… Build first and last names dynamically\r","const dynamicFirstName = `StudentFirst-${randomNum}`;\r","const dynamicLastName = `StudentLast-${randomNum}`;\r","\r","// âœ… Store in environment\r","pm.environment.set(\"student_first_name\", dynamicFirstName);\r","pm.environment.set(\"student_last_name\", dynamicLastName);\r","\r","// ðŸ” Log for confirmation\r","console.log(\"First Name:\", dynamicFirstName);\r","console.log(\"Last Name:\", dynamicLastName);\r",""],"type":"text/javascript","packages":{}}}],"id":"ad1621ef-9164-4ff2-a2d6-ee226730bc72","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[],"body":{"mode":"raw","raw":"{\r\n  \"id\": {{student_id}},\r\n  \"firstName\": \"StudentFirst-99534 Postman edit \",\r\n  \"middleName\": null,\r\n  \"lastName\": \"StudentLast-9953\",\r\n \r\n  \"createdBy\": 474239,\r\n  \r\n  \"createdDate\": \"2025-05-15T11:41:34.859386+05:00\",\r\n  \"active\": true,\r\n\r\n  \"deleted\": false,\r\n\r\n   \"providers\": {{providers_obj}},\r\n  \"location\": {{location_obj}},\r\n   \"client\": {{client_obj}}\r\n  \r\n  \r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/student","host":["{{base_url}}"],"path":["bts","api","v1","student"]}},"response":[],"uid":"23122877-ad1621ef-9164-4ff2-a2d6-ee226730bc72"},{"name":"Delete Student","id":"cb7ce988-24f3-41c6-8931-f73bfccfa16f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[],"url":{"raw":"{{base_url}}/bts/api/v1/student/{{student_id}}","host":["{{base_url}}"],"path":["bts","api","v1","student","{{student_id}}"]}},"response":[],"uid":"23122877-cb7ce988-24f3-41c6-8931-f73bfccfa16f"}],"id":"f62b3a33-88fb-41d1-91b8-d6c54eb9e6fb","event":[{"listen":"prerequest","script":{"id":"8d4d3797-b9f5-43a7-a2a0-212e4c80623f","type":"text/javascript","packages":{},"exec":["const expiryDurationMs = 24 * 60 * 60 * 1000; // 24 hours\r","let savedTime = pm.environment.get(\"auth_cookie_time\");\r","\r","if (!savedTime || Date.now() - Number(savedTime) > expiryDurationMs) {\r","    console.log(\"bts_access_token expired or missing. Redirecting to login...\");\r","    pm.environment.unset(\"auth_cookie\");\r","    postman.setNextRequest(\"Signin/Login\"); // ðŸ‘ˆ yahan ye ho agher logi ki call ko 24 hr sy zeyadaa ka time ho gay hy to ye Redirect kr ky da logi n ki call pir  or mujay Manual Login ki casll ko Run krnaa ni pray ga   Your exact login request name\r","} else {\r","    console.log(\"bts_access_token Token still valid.\");\r","    // Automatically attach cookie to each request in this folder\r","    pm.request.headers.add({\r","        key: \"Cookie\",\r","        value: \"bts_access_token=\" + pm.environment.get(\"auth_cookie\")\r","    });\r","}\r",""]}},{"listen":"test","script":{"id":"1adb8d63-364e-4efa-9675-69a5711b3c15","type":"text/javascript","packages":{},"exec":[""]}}],"uid":"23122877-f62b3a33-88fb-41d1-91b8-d6c54eb9e6fb"},{"name":"Account Endpoint","item":[{"name":"Update Configuration","id":"64e768ed-025b-4912-9a16-a52caa2d441c","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[]},"response":[],"uid":"23122877-64e768ed-025b-4912-9a16-a52caa2d441c"}],"id":"93f9d684-15ac-4bec-b7c7-a1a5af2d6f79","uid":"23122877-93f9d684-15ac-4bec-b7c7-a1a5af2d6f79"},{"name":"Activity Endpoint","item":[{"name":"Signin / Login Copy","event":[{"listen":"test","script":{"id":"1a8f6498-6d82-4301-9135-aa5ae141939c","exec":["let setCookieHeader = pm.response.headers.get(\"Set-Cookie\");\r","\r","if (setCookieHeader) {\r","    // Extract bts_access_token from full cookie string\r","    let match = setCookieHeader.match(/bts_access_token=([^;]+)/);\r","    \r","    if (match && match[1]) {\r","        let token = match[1];\r","        pm.environment.set(\"auth_cookie\", token);\r","        pm.environment.set(\"auth_cookie_time\", Date.now());\r","        console.log(\"âœ… bts_access_token saved :\", token);\r","    } else {\r","        console.log(\"âŒ bts_access_token not found in Set-Cookie header.\");\r","    }\r","} else {\r","    console.log(\"âŒ Set-Cookie header not found.\");\r","}\r","\r","// ye Bas login ki call check krny ky leay ky login ki call kitni purani hy kiyaa login ki call ko dubaraaa heii lgani hy ye ni \r","let rawCookie = pm.response.headers.get(\"Set-Cookie\");\r","pm.environment.set(\"auth_cookie\", rawCookie);\r","pm.environment.set(\"auth_cookie_time\", Date.now()); // Save time for expiry check\r","console.log(\"Cookie and timestamp saved.\");\r","\r","\r","//====================================================================\r","\r","//  Asserttion ko dykhnay ka Treqaaaa \r","\r","// âœ… Assertion: Status code check\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","// âœ… Assertion: Set-Cookie header check\r","pm.test(\"Set-Cookie header is present\", function () {\r","    pm.expect(pm.response.headers.has(\"Set-Cookie\")).to.be.true;\r","});\r","\r","// âœ… Logic: Get Set-Cookie header\r","//let setCookieHeader = pm.response.headers.get(\"Set-Cookie\");\r","\r","if (setCookieHeader) {\r","    // âœ… Extract token\r","    let match = setCookieHeader.match(/bts_access_token=([^;]+)/);\r","    \r","    // âœ… Assertion: Token found\r","    pm.test(\"bts_access_token found in Set-Cookie\", function () {\r","        pm.expect(match && match[1]).to.not.be.undefined;\r","    });\r","\r","    if (match && match[1]) {\r","        let token = match[1];\r","        pm.environment.set(\"auth_cookie\", token);\r","        pm.environment.set(\"auth_cookie_time\", Date.now());\r","        console.log(\"âœ… bts_access_token saved:\", token);\r","    } else {\r","        console.log(\"âŒ bts_access_token not found in Set-Cookie header.\");\r","    }\r","} else {\r","    console.log(\"âŒ Set-Cookie header not found.\");\r","}\r","\r","// âœ… Also save raw cookie\r","pm.environment.set(\"auth_cookie_raw\", setCookieHeader || \"\");\r","pm.environment.set(\"auth_cookie_time\", Date.now());\r","console.log(\"Cookie and timestamp saved.\");\r",""],"type":"text/javascript","packages":{}}},{"listen":"prerequest","script":{"id":"0b92bedb-c34f-422a-b84d-0df340fd17f1","exec":[""],"type":"text/javascript","packages":{}}}],"id":"ecb0407a-bf1f-4bd0-9a05-2036151a57c5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n \"userName\": \"{{userName56000}}\",\r\n  \"password\": \"{{password56000}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/auth/signin","host":["{{base_url}}"],"path":["bts","api","v1","auth","signin"]}},"response":[],"uid":"23122877-ecb0407a-bf1f-4bd0-9a05-2036151a57c5"},{"name":"Create Activity","event":[{"listen":"test","script":{"id":"8f23af08-5531-4405-a71e-ca69ccbf8f47","exec":["const json = pm.response.json();\r","\r","// âœ… Assertions\r","pm.test(\"Status code is 201\", function () {\r","    pm.response.to.have.status(201);\r","});\r","\r","pm.test(\"Response status is SUCCESSFUL\", function () {\r","    pm.expect(json.status).to.eql(\"SUCCESSFUL\");\r","});\r","\r","pm.test(\"Response contains data object\", function () {\r","    pm.expect(json.data).to.be.an('object');\r","});\r","\r","// Extract just the startDateTime\r","const startDateTime = pm.response.json().data.startDateTime;\r","\r","// Store as global variable\r","pm.globals.set(\"Activity_start_date_time\", startDateTime);\r","\r","// Log for verification\r","console.log(\"â° Start DateTime Stored:\", pm.globals.get(\"Activity_start_date_time\"));\r","\r","\r","// âœ… Extract all required IDs\r","const activity_idS  = json.data?.id;\r","const client_id    = json.data?.client?.id;\r","const location_id  = json.data?.location?.id;\r","const provider_id  = json.data?.provider?.id;\r","const wbs_id       = json.data?.wbs?.id;\r","const student_id    = json.data?.students?.id;\r","\r","// âœ… ID Assertions\r","pm.test(\"Activity ID is valid\", () => pm.expect(activity_idS).to.be.a(\"number\").and.to.be.above(0));\r","pm.test(\"Client ID is valid\", () => pm.expect(client_id).to.be.a(\"number\").and.to.be.above(0));\r","pm.test(\"Location ID is valid\", () => pm.expect(location_id).to.be.a(\"number\").and.to.be.above(0));\r","pm.test(\"Provider ID is valid\", () => pm.expect(provider_id).to.be.a(\"number\").and.to.be.above(0));\r","pm.test(\"WBS ID is valid\", () => pm.expect(wbs_id).to.be.a(\"number\").and.to.be.above(0));\r","\r","// pm.test(\"student_id ID is valid\", () => pm.expect(student_id).to.be.a(\"number\").and.to.be.above(0));\r","\r","// âœ… Store in Environment\r","pm.environment.set(\"activity_idS\", activity_idS);\r","pm.environment.set(\"client_id\", client_id);\r","pm.environment.set(\"location_id\", location_id);\r","pm.environment.set(\"provider_id\", provider_id);\r","pm.environment.set(\"wbs_id\", wbs_id);\r","pm.environment.set(\"student_id\", student_id)\r","\r","// âœ… Also Store in Global\r","pm.globals.set(\"activity_idS\", activity_idS);\r","pm.globals.set(\"client_id\", client_id);\r","pm.globals.set(\"location_id\", location_id);\r","pm.globals.set(\"provider_id\", provider_id);\r","pm.globals.set(\"wbs_id\", wbs_id);\r","pm.globals.set(\"student_id\", student_id);\r","\r","// ðŸ§¾ Console logs for debug\r","// console.log(\"âœ… Extracted & Stored IDs:\");\r","// console.log(\"activity_idS:\", activity_idS);\r","// console.log(\"client_id:\", client_id);\r","// console.log(\"location_id:\", location_id);\r","// console.log(\"provider_id:\", provider_id);\r","// console.log(\"wbs_id:\", wbs_id);\r","\r","\r","// const json = pm.response.json();\r","\r","// \r","\r","\r","const student_ids_raw = pm.environment.get(\"student_id_list\") || \"[]\";\r","\r","let student_ids = [];\r","try {\r","    student_ids = JSON.parse(student_ids_raw);\r","} catch (e) {\r","    console.error(\"âŒ student_id_list is not valid JSON:\", student_ids_raw);\r","}\r","\r","const wrappedStudents = student_ids.map(id => ({\r","    student: { id: id }\r","}));\r","\r","pm.environment.set(\"wrapped_student_list\", JSON.stringify(wrappedStudents));\r","\r","// Optional logs\r","console.log(\"âœ… Wrapped student list:\", wrappedStudents);\r",""],"type":"text/javascript","packages":{}}},{"listen":"prerequest","script":{"id":"85b5cb30-18bf-41ce-a977-d0aada4016dc","exec":["// ---- For createdDate (always current date in +05:00) ----\r","function formatWithOffset(date, offsetHours) {\r","    const offsetMs = offsetHours * 60 * 60 * 1000;\r","    const local = new Date(date.getTime() + offsetMs);\r","    const pad = (n) => n.toString().padStart(2, '0');\r","    return `${local.getFullYear()}-${pad(local.getMonth() + 1)}-${pad(local.getDate())}T${pad(local.getHours())}:${pad(local.getMinutes())}:${pad(local.getSeconds())}+05:00`;\r","}\r","\r","let now = new Date();\r","let createdDate = formatWithOffset(now, 5); // +05:00\r","pm.environment.set(\"createdDate\", createdDate);\r","\r","// ---- For start_time & end_time (random in 2023â€“2025 with 15 min gap) ----\r","const randomYear = Math.floor(Math.random() * (2025 - 2023 + 1)) + 2023;\r","const randomMonth = Math.floor(Math.random() * 12);\r","const randomDay = Math.floor(Math.random() * 28) + 1;\r","const randomHour = Math.floor(Math.random() * 24);\r","const randomMinute = Math.floor(Math.random() * 60);\r","\r","let start = new Date(Date.UTC(randomYear, randomMonth, randomDay, randomHour, randomMinute, 0));\r","let end = new Date(start.getTime() + 15 * 60 * 1000);\r","\r","pm.environment.set(\"start_time\", start.toISOString());\r","pm.environment.set(\"end_time\", end.toISOString());\r","// ---- For duration (15 min) ----\r",""],"type":"text/javascript","packages":{}}}],"id":"7db79b6a-367e-4fcb-9c3f-d5ab9c6ec391","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \r\n  \"activityNote\": \"(OT) RG EVALUATION Postman sy Create kro Notes\",\r\n  \"client\": {\r\n    \"id\": 674652,\r\n    \"name\": \"Is Placement School Activity\"\r\n  },\r\n  \"duration\": 15,\r\n  \"location\": {\r\n    \"id\": 674656,\r\n    \r\n    \"createdDate\": \"2025-02-20T00:00:00+05:00\",\r\n   \r\n    \"client\": {\r\n      \"id\": 674652,\r\n     \r\n      \"name\": \"Is Placement School Activity\"\r\n    },\r\n    \"title\": \"Is Placement School Activity\"\r\n  },\r\n  \"occurenceType\": \"DAILY\",\r\n  \r\n  \"provider\": {\r\n    \"id\": 474239,\r\n    \"email\": \"ha5600045@gmail.com\",\r\n    \"password\": \"@123ABC!\",\r\n    \"active\": true,\r\n    \r\n    \"createdDate\": \"{{createdDate}}\",\r\n    \"dateOfBirth\": \"1998-05-12T00:00:00+05:00\",\r\n    \"defaultRate\": 65,\r\n  \r\n    \"employeeId\": \"471601\",\r\n  \r\n    \"firstName\": \"Haider\",\r\n    \"fullName\": \"Haider lycus\",\r\n    \"isSalaried\": true,\r\n    \"lastName\": \"lycus\",\r\n    \"middleName\": \"Ali\",\r\n    \"mobileNo\": \"(4\",\r\n \r\n    \"oauthId\": \"00000000-0000-0000-dfb4-32389212fbfc\",\r\n    \"overTimeRate\": 15,\r\n    \"phone\": \"\",\r\n    \"prefDuration\": 45,\r\n    \"profilePic\": \"\",\r\n    \"role\": \"ADMIN\",\r\n    \"salaryAmountPerPeriod\": 173040,\r\n    \"secondaryRate\": 98,\r\n\r\n   \r\n    \"updatedBy\": 474239,\r\n    \"updatedDate\": \"2025-04-29T00:00:00+05:00\"\r\n  },\r\n  \"startDateTime\": \"{{start_time}}\",\r\n  \"students\": [\r\n    {\r\n        \"student\": {\r\n        \"id\": 674657\r\n    }\r\n      \r\n    },\r\n     {\r\n        \"student\": {\r\n        \"id\": 683012\r\n    }\r\n      \r\n    }\r\n\r\n  ],\r\n  \"title\": \"(OT) RG EVALUATION Postman sy Create kro\",\r\n\t\"isJoint\": false,\r\n  \"wbs\": {\r\n    \"id\": 470893,\r\n    \"title\": \"(OT) RG EVALUATION\"\r\n  }\r\n}\r\n","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session","host":["{{base_url}}"],"path":["bts","api","v1","session"]}},"response":[],"uid":"23122877-7db79b6a-367e-4fcb-9c3f-d5ab9c6ec391"},{"name":"Get Activity Details","event":[{"listen":"test","script":{"id":"80b264e8-ece4-48eb-a7c7-bc609a74b00e","exec":["const json = pm.response.json();\r","const data = json.data || {};\r","\r","// âœ… Basic Top-Level IDs\r","pm.environment.set(\"activity_id\", data.id || \"\");\r","pm.environment.set(\"activity_title\", data.title || \"\");\r","pm.environment.set(\"activity_note\", data.activityNote || \"\");\r","pm.environment.set(\"duration\", data.duration || 0);\r","\r","// âœ… Client Info\r","if (data.client) {\r","    pm.environment.set(\"client_id\", data.client.id || \"\");\r","    pm.environment.set(\"client_name\", data.client.name || \"\");\r","}\r","\r","// âœ… Location Info\r","if (data.location) {\r","    pm.environment.set(\"location_id\", data.location.id || \"\");\r","    pm.environment.set(\"location_title\", data.location.title || \"\");\r","}\r","\r","// âœ… Provider Info\r","if (data.provider) {\r","    pm.environment.set(\"provider_id\", data.provider.id || \"\");\r","    pm.environment.set(\"provider_full_name\", data.provider.fullName || \"\");\r","    pm.environment.set(\"provider_email\", data.provider.email || \"\");\r","}\r","\r","// âœ… WBS Info\r","if (data.wbs) {\r","    pm.environment.set(\"wbs_id\", data.wbs.id || \"\");\r","    pm.environment.set(\"wbs_title\", data.wbs.title || \"\");\r","}\r","\r","// âœ… Service Type Info\r","if (data.serviceType) {\r","    pm.environment.set(\"service_type_id\", data.serviceType.id || \"\");\r","    pm.environment.set(\"service_type_title\", data.serviceType.title || \"\");\r","}\r","\r","// âœ… Dates\r","pm.environment.set(\"created_date\", data.createdDate || \"\");\r","pm.environment.set(\"start_date_time\", data.startDateTime || \"\");\r","pm.environment.set(\"end_date_time\", data.endDateTime || \"\");\r","\r","// âœ… Booleans or Status\r","pm.environment.set(\"is_joint\", data.isJoint || false);\r","pm.environment.set(\"submitted\", data.submitted || false);\r","pm.environment.set(\"status\", data.status || \"\");\r","\r","// ðŸ§ª Optional Console Log\r","console.log(\"âœ… All key fields saved to environment.\");\r",""],"type":"text/javascript","packages":{}}}],"id":"7b20c761-33f8-44a2-9b48-815aa197955a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/bts/api/v1/session/{{Activity_ID}}","host":["{{base_url}}"],"path":["bts","api","v1","session","{{Activity_ID}}"]}},"response":[],"uid":"23122877-7b20c761-33f8-44a2-9b48-815aa197955a"},{"name":"Update An Activity","event":[{"listen":"prerequest","script":{"id":"6af3a318-7281-44be-83a0-5d46b61451a4","exec":["// ---- For createdDate (always current date in +05:00) ----\r","function formatWithOffset(date, offsetHours) {\r","    const offsetMs = offsetHours * 60 * 60 * 1000;\r","    const local = new Date(date.getTime() + offsetMs);\r","    const pad = (n) => n.toString().padStart(2, '0');\r","    return `${local.getFullYear()}-${pad(local.getMonth() + 1)}-${pad(local.getDate())}T${pad(local.getHours())}:${pad(local.getMinutes())}:${pad(local.getSeconds())}+05:00`;\r","}\r","\r","let now = new Date();\r","let createdDate = formatWithOffset(now, 5); // +05:00\r","pm.environment.set(\"createdDate\", createdDate);\r","\r","// ---- For start_time & end_time (random in 2023â€“2025 with 15 min gap) ----\r","const randomYear = Math.floor(Math.random() * (2025 - 2023 + 1)) + 2023;\r","const randomMonth = Math.floor(Math.random() * 12);\r","const randomDay = Math.floor(Math.random() * 28) + 1;\r","const randomHour = Math.floor(Math.random() * 24);\r","const randomMinute = Math.floor(Math.random() * 60);\r","\r","let start = new Date(Date.UTC(randomYear, randomMonth, randomDay, randomHour, randomMinute, 0));\r","let end = new Date(start.getTime() + 15 * 60 * 1000);\r","\r","pm.environment.set(\"start_time\", start.toISOString());\r","pm.environment.set(\"end_time\", end.toISOString());\r","// ---- For duration (15 min) ----\r","\r","\r","\r","// ðŸ” Get all required variables from environment (or globals if needed)\r","const activity_idS   = pm.environment.get(\"activity_idS\") || pm.globals.get(\"activity_idS\");\r","const client_id     = pm.environment.get(\"client_id\")   || pm.globals.get(\"client_id\");\r","const location_id   = pm.environment.get(\"location_id\") || pm.globals.get(\"location_id\");\r","const provider_id   = pm.environment.get(\"provider_id\") || pm.globals.get(\"provider_id\");\r","const wbs_id        = pm.environment.get(\"wbs_id\")      || pm.globals.get(\"wbs_id\");\r","\r","const Activity_start_date_time        = pm.environment.get(\"Activity_start_date_time\")      || pm.globals.get(\"Activity_start_date_time\");\r","\r","const student_id_list  = pm.environment.get(\"student_id_list\")  || pm.globals.get(\"student_id_list\");\r","\r","// âœ… Log to console for visibility\r","console.log(\"ðŸ“¦ Loaded IDs before request:\");\r","console.log(\"activity_idS:\", activity_idS);\r","console.log(\"client_id:\", client_id);\r","console.log(\"location_id:\", location_id);\r","console.log(\"provider_id:\", provider_id);\r","console.log(\"wbs_id:\", wbs_id);\r","console.log(\"student_id_list:\", student_id_list);\r","\r","\r","console.log(\"Activity_start_date_time\", Activity_start_date_time)\r","// âœ… (Optional) Set them back into environment in case only global existed\r","pm.environment.set(\"activity_idS\", activity_idS);\r","pm.environment.set(\"client_id\", client_id);\r","pm.environment.set(\"location_id\", location_id);\r","pm.environment.set(\"provider_id\", provider_id);\r","pm.environment.set(\"wbs_id\", wbs_id);\r","pm.environment.set(\"student_id_list\", student_id_list);\r",""],"type":"text/javascript","packages":{}}}],"id":"36a1b763-3cca-4629-822a-f90245ba5f35","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[],"body":{"mode":"raw","raw":"{\r\n  \"id\": {{activity_idS}},\r\n  \"active\": null,\r\n  \"activityNote\": \"(OT) RG EVALUATION Postman sy Create kro Notes 2233\",\r\n  \"createdBy\": {{provider_id}},\r\n  \"createdDate\": \"2025-05-07T11:39:44.726586+05:00\",\r\n  \"duration\": 15,\r\n  \"isJoint\": false,\r\n  \"startDateTime\": \"{{Activity_start_date_time}}\",\r\n  \"title\": \"(OT) RG EVALUATION Postman upate + Edit \",\r\n  \"location\": {\r\n    \"id\": {{location_id}},\r\n    \"title\": \" Is Placement School Activity \"\r\n  },\r\n  \"client\": {\r\n    \"id\": {{client_id}},\r\n    \"name\": \" Is Placement School Activity \"  \r\n  },\r\n  \"wbs\": {\r\n    \"id\": {{wbs_id}}\r\n         },\r\n \r\n  \"provider\": {\r\n    \"id\": {{provider_id}}\r\n              },\r\n\"students\": {{wrapped_student_list}}\r\n\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session","host":["{{base_url}}"],"path":["bts","api","v1","session"]}},"response":[],"uid":"23122877-36a1b763-3cca-4629-822a-f90245ba5f35"},{"name":"1 Activity post","id":"7af2eb9d-ccec-4fa1-9d6a-e3166e5f0eab","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[],"body":{"mode":"raw","raw":"[\r\n  {{Activity_ID}}\r\n]","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session/status?status=POSTED","host":["{{base_url}}"],"path":["bts","api","v1","session","status"],"query":[{"key":"status","value":"POSTED"}]}},"response":[],"uid":"23122877-7af2eb9d-ccec-4fa1-9d6a-e3166e5f0eab"},{"name":"Delete Activity by id Copy","id":"90b10fac-d3f3-4501-b477-95ec0f16b028","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[],"url":{"raw":"{{base_url}}/bts/api/v1/session/{{Activity_ID}}","host":["{{base_url}}"],"path":["bts","api","v1","session","{{Activity_ID}}"]}},"response":[],"uid":"23122877-90b10fac-d3f3-4501-b477-95ec0f16b028"},{"name":"Series Activity Create / Days Copy","event":[{"listen":"test","script":{"id":"62b36356-f92a-40ea-aba4-0efef99de6ff","exec":["const json = pm.response.json();\r","const activity_id_Series = json.data ? json.data.id : null; // Check if 'id' exists in the response data\r","\r","// âœ… Test to verify 'id' exists\r","pm.test('Activity ID is not null', function () {\r","    pm.expect(activity_id_Series).to.not.be.null;\r","});\r","\r","// âœ… If the ID exists, store as global variable only\r","if (activity_id_Series) {\r","    console.log(\"ðŸ“Œ Activity ID from response:\", activity_id_Series);\r","\r","    // Store in GLOBAL variable\r","    pm.globals.set(\"activity_id_Series_Days\", activity_id_Series);\r","} else {\r","    console.log(\"âŒ Activity ID not found in response.\");\r","}\r","\r","console.log(\"ðŸ“¤ Value being set to global Activity_ID:\", activity_id_Series);\r",""],"type":"text/javascript","packages":{}}},{"listen":"prerequest","script":{"id":"0b899c44-a903-4e1a-93d7-61eb68f3cd3d","exec":["// --- Function to format date with +05:00 offset ---\r","function formatWithOffset(date, offsetHours) {\r","    const offsetMs = offsetHours * 60 * 60 * 1000;\r","    const local = new Date(date.getTime() + offsetMs);\r","    const pad = (n) => n.toString().padStart(2, '0');\r","    return `${local.getFullYear()}-${pad(local.getMonth() + 1)}-${pad(local.getDate())}T${pad(local.getHours())}:${pad(local.getMinutes())}:${pad(local.getSeconds())}+05:00`;\r","}\r","\r","// --- Current date for createdDate ---\r","let now = new Date();\r","let createdDate = formatWithOffset(now, 5);\r","pm.environment.set(\"createdDate\", createdDate);\r","\r","// --- Random start and end time with 15 mins gap in 2023â€“2025 ---\r","const randomYear = Math.floor(Math.random() * (2025 - 2023 + 1)) + 2023;\r","const randomMonth = Math.floor(Math.random() * 12);\r","const randomDay = Math.floor(Math.random() * 28) + 1;\r","const randomHour = Math.floor(Math.random() * 24);\r","const randomMinute = Math.floor(Math.random() * 60);\r","\r","let start = new Date(Date.UTC(randomYear, randomMonth, randomDay, randomHour, randomMinute, 0));\r","let end = new Date(start.getTime() + 15 * 60 * 1000); // +15 mins\r","\r","pm.environment.set(\"start_time\", start.toISOString());\r","pm.environment.set(\"end_time\", end.toISOString());\r","\r","// --- Current date and time for title ---\r","const date = now.toISOString().split('T')[0]; // e.g., \"2025-04-29\"\r","const time = now.toTimeString().split(' ')[0].slice(0, 5); // e.g., \"14:45\"\r","pm.environment.set(\"current_datetime\", `${date} ${time}`);\r",""],"type":"text/javascript","packages":{}}}],"id":"d0f60c13-1442-4c27-b445-b535544e1f34","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"id\": null,\r\n  \"active\": false,\r\n  \"activityNote\": \"test \",\r\n  \"client\": {\r\n    \"id\": 674652,\r\n    \"name\": \" Is Placement School Activity \"\r\n  },\r\n  \"duration\": 30,\r\n  \"endAfter\": 2,\r\n\t\"isJoint\": false,\r\n  \"location\": {\r\n    \"id\": 674656,\r\n    \"createdDate\": \"2025-02-20T00:00:00+05:00\",\r\n    \"client\": {\r\n      \"id\": 674652,\r\n      \"name\": \" Is Placement School Activity \"\r\n    },\r\n    \"title\": \"Placement School Location\"  // âœ… Added this field\r\n  },\r\n  \"occurenceType\": \"DAILY\",\r\n  \"provider\": {\r\n    \"id\": 474239,\r\n    \"email\": \"ha5600045@gmail.com\",\r\n    \"password\": \"@123ABC!\",\r\n    \"active\": true,\r\n    \"createdDate\": \"2023-05-12T00:00:00+05:00\",\r\n    \"defaultRate\": 65,\r\n    \"dateOfBirth\": \"1998-05-12T00:00:00+05:00\",\r\n    \"employeeId\": \"471601\",\r\n    \"firstName\": \"Haider\",\r\n    \"lastName\": \"lycus\",\r\n    \"middleName\": \"Ali\",\r\n    \"mobileNo\": \"(4\",\r\n    \"oauthId\": \"00000000-0000-0000-dfb4-32389212fbfc\",\r\n    \"phone\": \"\",\r\n    \"profilePic\": \"\",\r\n    \"salaryAmountPerPeriod\": 173040,\r\n    \"secondaryRate\": 98,\r\n    \"themePreference\": null,\r\n    \"serviceTypes\": null,\r\n    \"fullName\": \"Haider lycus\"\r\n  },\r\n  \"recurring\": true,\r\n  \"startDateTime\": \"{{start_time}}\",\r\n  \"students\": [\r\n    {\r\n      \"id\": null,\r\n      \"deleted\": false,\r\n      \"student\": {\r\n        \"id\": 674657,\r\n        \"firstName\": \" Is Placement School Activity \",\r\n        \"middleName\": null,\r\n        \"lastName\": \"Student 0001\",\r\n        \"updatedBy\": null,\r\n        \"updatedDate\": null,\r\n        \"createdDate\": \"2025-02-20T07:08:59.031Z\"\r\n      },\r\n      \"client\": {\r\n        \"id\": 674652,\r\n        \"employeeId\": null,\r\n        \"title\": null,\r\n        \"name\": \" Is Placement School Activity \"\r\n      },\r\n      \"createdByUserName\": null,\r\n      \"updatedByUserName\": null,\r\n      \"fullNameWithClient\": \"Student 0001  Is Placement School Activity  ( Is Placement School Activity )\"\r\n    }\r\n  ],\r\n  \"submitted\": false,\r\n  \"submittedBy\": null,\r\n  \"submittedDate\": null,\r\n  \"title\": \"(SLP) EVALUATION\",\r\n  \"totalHoursBillable\": null,\r\n  \"wbs\": {\r\n    \"id\": 470885,\r\n    \"title\": \"(SLP) EVALUATION\"\r\n  }\r\n}\r\n","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session","host":["{{base_url}}"],"path":["bts","api","v1","session"]}},"response":[],"uid":"23122877-d0f60c13-1442-4c27-b445-b535544e1f34"},{"name":"Fetch All Activity in Unposted Copy","event":[{"listen":"prerequest","script":{"id":"6dfe033d-acc4-4632-ba82-ae68de6985eb","exec":[""],"type":"text/javascript","packages":{}}},{"listen":"test","script":{"id":"74f4be64-d495-41dd-bf80-971dd348527f","exec":["const json = pm.response.json();\r","\r","// Ensure data is an array\r","if (Array.isArray(json.data?.resultList)) {\r","    const idList = json.data.resultList.map(item => item.id); // Extract all IDs\r","\r","    // Log result\r","    console.log(\"ðŸ“Œ Extracted IDs:\", idList);\r","\r","    // Save as environment variable (array stringified)\r","    pm.environment.set(\"activity_id_list\", JSON.stringify(idList));\r","} else {\r","    console.log(\"âŒ Response data is not an array\");\r","}\r","\r","//===============================\r","\r","// 1. Verify response contains data.resultList array\r","pm.test(\"Response contains resultList array\", () => {\r","    pm.expect(json.data?.resultList).to.be.an('array').and.to.not.be.empty;\r","});\r","\r","// 2. Check all items have numeric IDs\r","pm.test(\"All items have valid IDs\", () => {\r","    json.data.resultList.forEach((item, index) => {\r","        pm.expect(item, `Item ${index} missing ID`).to.have.property('id');\r","        pm.expect(item.id, `ID at index ${index}`).to.be.a('number').and.to.be.above(0);\r","    });\r","});\r","\r","// 3. Validate environment variable was set correctly\r","pm.test(\"ID list saved to environment\", () => {\r","    const idList = JSON.parse(pm.environment.get(\"activity_id_list\"));\r","    pm.expect(idList).to.be.an('array').with.lengthOf(json.data.resultList.length);\r","    pm.expect(idList).to.eql(json.data.resultList.map(item => item.id));\r","});\r","\r","// 4. Verify no duplicate IDs\r","pm.test(\"No duplicate IDs exist\", () => {\r","    const idList = json.data.resultList.map(item => item.id);\r","    const uniqueIds = [...new Set(idList)];\r","    pm.expect(uniqueIds.length).to.eql(idList.length);\r","});"],"type":"text/javascript","packages":{}}}],"id":"4467cb02-f076-4e37-8358-394562e9b4ca","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"wbs\": null,\r\n  \"title\": null,\r\n  \"clientId\": null,\r\n  \"clientName\": null,\r\n  \"studentId\": null,\r\n  \"billedBy\": null,\r\n  \"approvedBy\": null,\r\n  \"submittedBy\": null,\r\n  \"locationId\": null,\r\n  \"providerIds\": [\r\n    474239\r\n  ],\r\n  \"startDateTime\": null,\r\n  \"endDateTime\": \"2025-05-06T19:00:00.000Z\",\r\n  \"submittedDateFrom\": null,\r\n  \"submittedDateTo\": null,\r\n  \"approvedDateFrom\": null,\r\n  \"approvedDateTo\": null,\r\n  \"billDateFrom\": null,\r\n  \"billDateTo\": null,\r\n  \"joint\": null,\r\n  \"placement\": null,\r\n  \"status\": \"UNPOSTED\",\r\n  \"paid\": null,\r\n  \"paymentType\": null,\r\n  \"startDate\": null,\r\n  \"endDate\": null,\r\n  \"employeeOnly\": null,\r\n  \"deleted\": false,\r\n  \"contractSearch\": null,\r\n  \"excludeZeroCharge\": false,\r\n  \"hourly\": null,\r\n  \"includeNotes\": false,\r\n  \"termDetailId\": null,\r\n  \"clientIds\": [],\r\n  \"locationIds\": [],\r\n  \"serviceTypeIds\": [],\r\n  \"serviceType\": null,\r\n  \"excludeBilled\": false\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session/search/simple?pageSize=1000&pageNo=0&sortColumn=startDateTime&sortDirection=ASC&students=false&notes=false","host":["{{base_url}}"],"path":["bts","api","v1","session","search","simple"],"query":[{"key":"pageSize","value":"1000"},{"key":"pageNo","value":"0"},{"key":"sortColumn","value":"startDateTime"},{"key":"sortDirection","value":"ASC"},{"key":"students","value":"false"},{"key":"notes","value":"false"}]}},"response":[],"uid":"23122877-4467cb02-f076-4e37-8358-394562e9b4ca"},{"name":"All Activity Post","event":[{"listen":"prerequest","script":{"id":"3a41ed09-f0f1-490d-b285-c80b23b44d1f","exec":["console.log(pm.environment.get(\"activity_id_list\"));\r",""],"type":"text/javascript","packages":{}}}],"id":"baca2a0d-9188-444a-8197-756f2830aa24","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[],"body":{"mode":"raw","raw":"\r\n    {{activity_id_list}}\r\n","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/session/status?status=POSTED","host":["{{base_url}}"],"path":["bts","api","v1","session","status"],"query":[{"key":"status","value":"POSTED"}]}},"response":[],"uid":"23122877-baca2a0d-9188-444a-8197-756f2830aa24"},{"name":"Series Activity Delete/ Days Copy","id":"99830ee7-d753-43b0-b3ca-4b44e0816aaa","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[],"url":{"raw":"{{base_url}}/bts/api/v1/session/series/{{activity_id_Series_Days}}","host":["{{base_url}}"],"path":["bts","api","v1","session","series","{{activity_id_Series_Days}}"]}},"response":[],"uid":"23122877-99830ee7-d753-43b0-b3ca-4b44e0816aaa"}],"id":"e27f6193-c950-4dc0-a603-2b24f84b944f","uid":"23122877-e27f6193-c950-4dc0-a603-2b24f84b944f"},{"name":"Auth Endpoint","item":[{"name":"User Login","id":"6038de71-5233-4e62-ba3c-13f0655ab023","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-6038de71-5233-4e62-ba3c-13f0655ab023"},{"name":"User Logout","id":"bfa2c35f-8e8b-47f2-8e11-2287b92d357f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-bfa2c35f-8e8b-47f2-8e11-2287b92d357f"}],"id":"990990b5-eae8-433d-b56b-34672012023b","uid":"23122877-990990b5-eae8-433d-b56b-34672012023b"},{"name":"Billing Endpoint","item":[{"name":"Delete Charge Id","id":"da216955-8528-476c-b45b-e067c5d55233","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-da216955-8528-476c-b45b-e067c5d55233"},{"name":"Update charge to include/exclude in invoice","id":"141680a8-9959-48b7-b63d-cb6c8f50f48b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-141680a8-9959-48b7-b63d-cb6c8f50f48b"},{"name":"Create Invoice","id":"86778949-a8ce-43e7-8a5f-c12703621cc8","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-86778949-a8ce-43e7-8a5f-c12703621cc8"},{"name":"Update an Invoice","id":"90fda7a8-7688-40b5-b4aa-5fb5f92f9f6e","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-90fda7a8-7688-40b5-b4aa-5fb5f92f9f6e"},{"name":"Bulk delete by id","id":"ea926a56-a83d-4200-a083-59a66905ea5d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-ea926a56-a83d-4200-a083-59a66905ea5d"},{"name":"Delete Invoice by Id","id":"0ef3e2f1-8d2a-48ca-b27d-84befd357c74","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-0ef3e2f1-8d2a-48ca-b27d-84befd357c74"},{"name":"Download pdf invoice","id":"50fff136-8513-43eb-986c-59c698a1e143","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-50fff136-8513-43eb-986c-59c698a1e143"},{"name":"Reprint Invoice","id":"67519475-9bf9-474e-877a-08f6c28e97f5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-67519475-9bf9-474e-877a-08f6c28e97f5"},{"name":"Download Excel Report of invoice aging","id":"3f94d2fb-3c3f-46cc-9954-5c3445fdec02","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-3f94d2fb-3c3f-46cc-9954-5c3445fdec02"},{"name":"Create Invoice Bulk","id":"4c346f09-28a0-433a-9f35-f14a86f52ec6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-4c346f09-28a0-433a-9f35-f14a86f52ec6"},{"name":"Create Invoices in Bulk with Zip file format","id":"1d82cd53-323b-4a55-94a7-6b2d78441b30","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-1d82cd53-323b-4a55-94a7-6b2d78441b30"},{"name":"Create Payment","id":"7cd47812-7c43-47a9-b260-4cf3301bc29d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-7cd47812-7c43-47a9-b260-4cf3301bc29d"},{"name":"Update payment","id":"fc2faac5-9f6e-4407-ba37-a99dc65d765d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-fc2faac5-9f6e-4407-ba37-a99dc65d765d"},{"name":"Delete Payment by Id","id":"532f28a7-be6e-4e66-956c-c9a9fa690223","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-532f28a7-be6e-4e66-956c-c9a9fa690223"},{"name":"Create Quick Bill Invoice","id":"fbe001d1-5d1c-47b1-9733-31cd3ba46a2d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-fbe001d1-5d1c-47b1-9733-31cd3ba46a2d"},{"name":"Search charges summary","id":"c25527bb-9781-4128-a751-facb7ebaa76f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-c25527bb-9781-4128-a751-facb7ebaa76f"},{"name":"Download Excel Report for Charges Summary","id":"651becaa-6137-4997-90d2-1e5de0c58792","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-651becaa-6137-4997-90d2-1e5de0c58792"},{"name":"Read performance tracking report","id":"581b3afb-0b5d-4c60-b420-ccb77f85a736","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-581b3afb-0b5d-4c60-b420-ccb77f85a736"},{"name":"Export performance tracking report","id":"38ba8c68-0c0b-423b-aa15-9d7bc5a3fc71","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-38ba8c68-0c0b-423b-aa15-9d7bc5a3fc71"},{"name":"Search charges","id":"d06c1abc-f1a0-4efe-b968-8be0505d7859","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-d06c1abc-f1a0-4efe-b968-8be0505d7859"},{"name":"Download Excel Report for Billing Charges","id":"b97ccb22-4600-4747-a7bd-61dd71962670","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-b97ccb22-4600-4747-a7bd-61dd71962670"},{"name":"Search charges for invoice","id":"6cc1eab4-de95-4907-8c67-04400dffc0b1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-6cc1eab4-de95-4907-8c67-04400dffc0b1"},{"name":"Get All Invoices","id":"7eed0cd8-3a49-4fcd-b30b-eb80518f7898","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-7eed0cd8-3a49-4fcd-b30b-eb80518f7898"},{"name":"Download Excel Report for Billing Invoice","id":"66f3ccf9-5eee-411c-9df9-9f1d61be8938","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-66f3ccf9-5eee-411c-9df9-9f1d61be8938"},{"name":"Get All Payments","id":"57b80d98-ad89-4ddd-9554-fbd3fb3df77a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-57b80d98-ad89-4ddd-9554-fbd3fb3df77a"}],"id":"b5055017-2673-4bdf-98ff-e73b292be908","uid":"23122877-b5055017-2673-4bdf-98ff-e73b292be908"},{"name":"Client Contract","item":[{"name":"Get All Client Contracts","id":"31f6146c-2abe-4cf6-ac9b-4e3042cd6c22","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-31f6146c-2abe-4cf6-ac9b-4e3042cd6c22"},{"name":"Get Client Contract by ID","id":"da573831-5eef-4e42-8236-53f7b7b6bde9","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-da573831-5eef-4e42-8236-53f7b7b6bde9"},{"name":"Delete Client Contracts by Id","id":"7b10b0d0-f16c-4753-bab8-2e37b92f5f90","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-7b10b0d0-f16c-4753-bab8-2e37b92f5f90"},{"name":"Get Client Contracts by Client ID.","id":"c428eaa2-ca21-4cb5-849e-435da538c027","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-c428eaa2-ca21-4cb5-849e-435da538c027"},{"name":"Create Client Contract","id":"b5e927fa-3d18-4492-a3ea-34218460aed7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-b5e927fa-3d18-4492-a3ea-34218460aed7"},{"name":"Update Client Contract","id":"21b72e16-d3c5-4236-9f53-cd8b1f1ac7bc","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-21b72e16-d3c5-4236-9f53-cd8b1f1ac7bc"},{"name":"Download Excel Report of Client Schedule","id":"0f9b345a-fff1-4062-b44e-265943321115","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-0f9b345a-fff1-4062-b44e-265943321115"},{"name":"Download Excel Report of Contract Rate Variance","id":"60217e12-71cb-4d1c-bdd1-d5d35917c1dd","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-60217e12-71cb-4d1c-bdd1-d5d35917c1dd"},{"name":"Download Excel Report of Contract Performance Hours","id":"6695df8d-1f58-449a-8791-3c91c2210e57","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-6695df8d-1f58-449a-8791-3c91c2210e57"},{"name":"Download Excel Report of Reporting Needs","id":"65695834-b507-4d4a-b06f-f7c8cadc4268","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-65695834-b507-4d4a-b06f-f7c8cadc4268"},{"name":"Download Excel Report of Contract - Tracking Effective Dates","id":"3fc5455c-36e5-4577-80e1-34cf84207ef0","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-3fc5455c-36e5-4577-80e1-34cf84207ef0"},{"name":"Search Client Contract","id":"ce5ba506-326f-4cf1-b426-ae08f1fa538f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-ce5ba506-326f-4cf1-b426-ae08f1fa538f"},{"name":"Search Client Scedule","id":"bf2f115c-ecfb-4958-a16a-97743a1bebaa","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-bf2f115c-ecfb-4958-a16a-97743a1bebaa"}],"id":"3c6cf7f4-4cea-4bb2-9a2e-1ce540ea7160","uid":"23122877-3c6cf7f4-4cea-4bb2-9a2e-1ce540ea7160"},{"name":"Client Contract Term Endpoint","item":[{"name":"Get All Client Contract terms","id":"723d8939-9fa1-4c95-b675-e24fb69427f8","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-723d8939-9fa1-4c95-b675-e24fb69427f8"},{"name":"Create Client Contract term","id":"28b9bc17-3434-4c85-9ba8-e17d847b0ccc","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-28b9bc17-3434-4c85-9ba8-e17d847b0ccc"},{"name":"Update Client Contract term","id":"bba86c94-c52d-4efd-8e03-08a154a8ea35","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-bba86c94-c52d-4efd-8e03-08a154a8ea35"},{"name":"Get Client Contract term by ID","id":"17915b22-93d4-4ac1-9981-730019c8f83f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-17915b22-93d4-4ac1-9981-730019c8f83f"},{"name":"Delete Client Contract Term by Id","id":"80ede6fb-5306-40d7-abb8-83511cb51fba","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-80ede6fb-5306-40d7-abb8-83511cb51fba"},{"name":"Get Client Contract terms by Client ID","id":"942e6236-1816-400c-a317-727580c8b041","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-942e6236-1816-400c-a317-727580c8b041"},{"name":"Get Client Contracts terms by Client location ID","id":"578e7f00-7953-4051-9a9f-b7e612e97741","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-578e7f00-7953-4051-9a9f-b7e612e97741"},{"name":"Get Client Contracts terms by Contract ID","id":"2d5da497-dfd8-4a63-a8be-fba4f08747a0","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-2d5da497-dfd8-4a63-a8be-fba4f08747a0"},{"name":"Create Contract term flat charges","id":"17cc0481-093e-4869-8ae3-4494e155b3ba","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-17cc0481-093e-4869-8ae3-4494e155b3ba"},{"name":"Create/Update Client Default term","id":"418b17e8-c788-4215-8ec1-de2048c11b64","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-418b17e8-c788-4215-8ec1-de2048c11b64"}],"id":"e6e27fb8-ac35-4d8f-a21a-3a6a93b99eda","uid":"23122877-e6e27fb8-ac35-4d8f-a21a-3a6a93b99eda"},{"name":"Client Endpoint","item":[{"name":"Get All Clients","id":"9b09338f-67bc-4f52-9b08-c68637a02a82","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-9b09338f-67bc-4f52-9b08-c68637a02a82"},{"name":"Get Client by Id","id":"a2f2b040-4b44-4bcb-b8de-8cf0835cd8fd","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-a2f2b040-4b44-4bcb-b8de-8cf0835cd8fd"},{"name":"Delete Client by Id","id":"39748743-2987-4c43-917b-947b6ddceb4c","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-39748743-2987-4c43-917b-947b6ddceb4c"},{"name":"Update Client Status","id":"48d1fc8e-d405-4dea-b795-19df65922d93","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-48d1fc8e-d405-4dea-b795-19df65922d93"},{"name":"Update Client","id":"7245f614-0f1f-47dd-8bf7-013605c84b54","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-7245f614-0f1f-47dd-8bf7-013605c84b54"},{"name":"Create Client","id":"d3174b5c-2ac7-4646-83f8-fbcc3af55889","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-d3174b5c-2ac7-4646-83f8-fbcc3af55889"},{"name":"Get Client by Provider Id","id":"e599bd7b-4056-419a-aa2d-04a16972b376","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-e599bd7b-4056-419a-aa2d-04a16972b376"}],"id":"d436a2e6-8631-42f0-bed7-e8e9a1bfd3e4","uid":"23122877-d436a2e6-8631-42f0-bed7-e8e9a1bfd3e4"},{"name":"Client Location Endpoint","item":[{"name":"Create Client location","event":[{"listen":"test","script":{"id":"a1436d1e-c93f-41eb-84ca-68f760ae121c","exec":["console.log(\"Value of Randum_Client_Name (global):\", pm.globals.get(\"Randum_Client_Name\"));\r","console.log(\"Does variable exist?\", pm.globals.has(\"Randum_Client_Name\"));\r","console.log(\"All global vars:\", pm.globals.toObject());\r",""],"type":"text/javascript","packages":{}}}],"id":"b4cbc7c9-b410-41c8-8b90-b1414a76ca13","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"title\" : \"Location + {{$randomFullName}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/client-location/681842/client","host":["{{base_url}}"],"path":["bts","api","v1","client-location","681842","client"]}},"response":[],"uid":"23122877-b4cbc7c9-b410-41c8-8b90-b1414a76ca13"},{"name":"Get Client location by ID","id":"aa93b0f0-d5ef-4eca-a2b8-5d4439c923a7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/bts/api/v1/client-location/{{new_location_id}}","host":["{{base_url}}"],"path":["bts","api","v1","client-location","{{new_location_id}}"]}},"response":[],"uid":"23122877-aa93b0f0-d5ef-4eca-a2b8-5d4439c923a7"},{"name":"Update Client Location","event":[{"listen":"test","script":{"id":"701e56cc-acf3-4bcd-bcf8-2e9fa991c29e","exec":["const json = pm.response.json();\r","const data = json.data;\r","const client = data.client;\r","\r","pm.test(\"Status & Error\", () => {\r","    pm.expect(json.status).to.eql(\"SUCCESSFUL\");\r","    pm.expect(json.error).to.be.null;\r","});\r","\r","pm.test(\"Validate data object\", () => {\r","    pm.expect(data).to.be.an('object');\r","    pm.expect(data.id).to.be.a('number').and.to.be.above(0);\r","    pm.expect(data.title).to.include(\"Location\").and.to.include(\"Edit\");\r","    pm.expect(data.deleted).to.be.false;\r","});\r","\r","pm.test(\"Validate created fields\", () => {\r","    pm.expect(new Date(data.createdDate)).to.be.a('date');\r","    pm.expect(data.createdBy).to.be.a('number');\r","    pm.expect(data.createdByUserName).to.eql(\"\");\r","});\r","\r","pm.test(\"Client structure\", () => {\r","    pm.expect(client.id).to.be.a('number');\r","    pm.expect(client.name).to.match(/^Postman-Randum-Name\\d{4}$/);\r","    [\"employeeId\", \"title\", \"phone\", \"email\"].forEach(field => {\r","        pm.expect(client[field]).to.be.null;\r","    });\r","});\r","\r","pm.test(\"Store IDs\", () => {\r","    pm.environment.set(\"new_location_id\", data.id);\r","    pm.environment.set(\"client_id\", client.id);\r","    let clientId = pm.environment.get(\"client_id\");\r","    console.log(\"Client ID is:\", clientId);\r","    //Location ID ko Print krwaaa kr dykhnaaa \r","    let new_location_id = pm.environment.get(\"new_location_id\");\r","    console.log(\"Client ID is:\", new_location_id); \r","  \r","});\r","\r","let clientName = pm.globals.get(\"Randum_Client_Name\");\r","console.log(\"ðŸ§¾ Reused Global Client Name:\", clientName);\r","\r",""],"type":"text/javascript","packages":{}}}],"id":"732b5564-d731-44ee-bc88-a8a9b57762b6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[],"body":{"mode":"raw","raw":"{\r\n    \"title\" : \"Location + Edit  + {{$randomFullName}}\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/bts/api/v1/client-location/{{client_id}}/client","host":["{{base_url}}"],"path":["bts","api","v1","client-location","{{client_id}}","client"]}},"response":[],"uid":"23122877-732b5564-d731-44ee-bc88-a8a9b57762b6"},{"name":"Delete Client Location by Id","event":[{"listen":"test","script":{"id":"70ab1cfb-ba31-4ac6-92b7-c3191fb4b21d","exec":["let new_location_id = pm.environment.get(\"new_location_id\");\r","console.log(\"Now Location is Deleted and the Locatrion IS is :\", new_location_id);"],"type":"text/javascript","packages":{}}}],"id":"543514fc-c894-4a65-964f-726d4543f39b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[],"url":{"raw":"{{base_url}}/bts/api/v1/client-location/{{new_location_id}}","host":["{{base_url}}"],"path":["bts","api","v1","client-location","{{new_location_id}}"]}},"response":[],"uid":"23122877-543514fc-c894-4a65-964f-726d4543f39b"},{"name":"Get All Client locations","id":"056b38a0-7fb5-4b49-b3a5-57ed5adccca4","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-056b38a0-7fb5-4b49-b3a5-57ed5adccca4"},{"name":"Delete Client Location by Id","id":"cf9621bf-a40b-436c-82ce-2a4b79695e11","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-cf9621bf-a40b-436c-82ce-2a4b79695e11"}],"id":"1f5847c4-8b9f-497b-bdcf-e056d564112c","uid":"23122877-1f5847c4-8b9f-497b-bdcf-e056d564112c"},{"name":"Client POC Endpoint","item":[{"name":"Get All Client POC's","id":"a7bcdb8b-f450-4f0f-9e3d-6c7313b5e114","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-a7bcdb8b-f450-4f0f-9e3d-6c7313b5e114"},{"name":"Get Client POC by ID","id":"26bb248b-6cfb-4ebd-be60-b451dd167a35","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-26bb248b-6cfb-4ebd-be60-b451dd167a35"},{"name":"Delete Client POC by Id","id":"8243136e-c908-420e-b899-0cfb118cc995","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-8243136e-c908-420e-b899-0cfb118cc995"},{"name":"Get Client POC's by Client ID","id":"fa917101-5018-43c0-9a9f-a1ea92d7058f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-fa917101-5018-43c0-9a9f-a1ea92d7058f"},{"name":"Get Client POC's by Client Location ID","id":"9781e5df-0c6e-4754-bf3c-48fc577746d2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-9781e5df-0c6e-4754-bf3c-48fc577746d2"},{"name":"Create Client POC","id":"2d1dcf4d-d5be-4019-9be8-dbbcb3b18dbb","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-2d1dcf4d-d5be-4019-9be8-dbbcb3b18dbb"},{"name":"Update Client POC","id":"95b15bf5-452e-4494-8360-706d53ebdfae","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-95b15bf5-452e-4494-8360-706d53ebdfae"}],"id":"c518db4e-c587-466b-bd8c-21581353c45d","uid":"23122877-c518db4e-c587-466b-bd8c-21581353c45d"},{"name":"Client Target","item":[{"name":"Get All Client Targets","id":"66b4e6aa-5c39-4bcf-83fd-29fce273bca4","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-66b4e6aa-5c39-4bcf-83fd-29fce273bca4"},{"name":"Create Client target","id":"c8a93739-ec41-4836-8e93-193ac1022943","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-c8a93739-ec41-4836-8e93-193ac1022943"},{"name":"Update Client target","id":"3a9057c5-e341-4df4-85a7-3c330042fac7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-3a9057c5-e341-4df4-85a7-3c330042fac7"},{"name":"Get Client target by ID","id":"0c65a747-630d-43ca-afad-9168aadc9d5f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-0c65a747-630d-43ca-afad-9168aadc9d5f"},{"name":"Delete client target by ID","id":"61a88caa-492a-4946-8653-1ce3dcd849e5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-61a88caa-492a-4946-8653-1ce3dcd849e5"},{"name":"Get Client Targets by Client ID","id":"ef793326-c28c-4f61-b65e-a95e62b7bf60","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-ef793326-c28c-4f61-b65e-a95e62b7bf60"}],"id":"6a00e0f8-c02f-4eab-ae90-ecceaa9a81ac","uid":"23122877-6a00e0f8-c02f-4eab-ae90-ecceaa9a81ac"},{"name":"Data DNA","item":[{"name":"Get All Data DNA","id":"5be5fc6a-52de-4c3b-813b-ab1af4536d93","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-5be5fc6a-52de-4c3b-813b-ab1af4536d93"},{"name":"Get Data Dna by ID","id":"66e5ecda-1fbb-4547-82d9-6aaf28badbd1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-66e5ecda-1fbb-4547-82d9-6aaf28badbd1"},{"name":"Delete Data DNA by Id","id":"e52409dd-23ed-487c-97a1-25c2e76edfc4","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-e52409dd-23ed-487c-97a1-25c2e76edfc4"},{"name":"Create Data Dna.","id":"b2c5b32e-ca94-46b7-8a55-07e8deb8f1d0","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-b2c5b32e-ca94-46b7-8a55-07e8deb8f1d0"},{"name":"Get Template files","id":"b57598f3-9366-4f6b-9d43-7fb36bfcbe06","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-b57598f3-9366-4f6b-9d43-7fb36bfcbe06"},{"name":"Search Data Dna","id":"1418deb3-e0f6-413d-90fd-5ef29a9d980f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-1418deb3-e0f6-413d-90fd-5ef29a9d980f"},{"name":"Get Template files","id":"d027050b-d69c-4002-88bf-dc03506fd730","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-d027050b-d69c-4002-88bf-dc03506fd730"},{"name":"Update Data Dna","id":"091c0873-d721-4137-9062-c21e64f5290b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-091c0873-d721-4137-9062-c21e64f5290b"}],"id":"2db3b791-7d63-493b-9131-651b1e8b5c1f","uid":"23122877-2db3b791-7d63-493b-9131-651b1e8b5c1f"},{"name":"Default Data Dna Copy","item":[{"name":"Get All Default Data DNA.","id":"74ca14a1-d83b-47b9-be3b-f75f8b61ef68","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-74ca14a1-d83b-47b9-be3b-f75f8b61ef68"},{"name":"Get Default Data Dna by ID.","id":"a4b4e3ac-7526-46f6-a8d6-c3d81d6be094","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-a4b4e3ac-7526-46f6-a8d6-c3d81d6be094"},{"name":"Delete Default Data DNA by Id.","id":"51e9924a-751a-4ad0-bf81-b3db1db455ba","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-51e9924a-751a-4ad0-bf81-b3db1db455ba"},{"name":"Get Default DataDna by Service Area id","id":"921b3174-8be4-4c53-b197-f0cdeed6cad6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-921b3174-8be4-4c53-b197-f0cdeed6cad6"},{"name":"Create Default Data Dna","id":"f1c71710-126a-4de7-9ea2-1a64940dd2c7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-f1c71710-126a-4de7-9ea2-1a64940dd2c7"},{"name":"Update Default Data Dna","id":"9c4a5a5d-d9c0-4b4d-ad41-30dcc7892fc3","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-9c4a5a5d-d9c0-4b4d-ad41-30dcc7892fc3"}],"id":"f11a843e-3f10-46dd-a6af-856a4e31d1db","uid":"23122877-f11a843e-3f10-46dd-a6af-856a4e31d1db"},{"name":"Default Data Dna Copy 2","item":[{"name":"Get All Default Data DNA.","id":"5e3b0ab4-1c73-47e7-86d3-a08c3b3ca143","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-5e3b0ab4-1c73-47e7-86d3-a08c3b3ca143"},{"name":"Get Default Data Dna by ID.","id":"c5b384eb-620f-43d6-9b35-d7a962cb55f3","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-c5b384eb-620f-43d6-9b35-d7a962cb55f3"},{"name":"Delete Default Data DNA by Id.","id":"e925441b-c30d-4383-97c3-4601e0ed8bac","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-e925441b-c30d-4383-97c3-4601e0ed8bac"},{"name":"Get Default DataDna by Service Area id","id":"d1a1e2d4-3601-4d55-99e0-e5b7bb750f0b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-d1a1e2d4-3601-4d55-99e0-e5b7bb750f0b"},{"name":"Create Default Data Dna","id":"0a83e997-7b22-4b94-8b18-21413fa651d2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-0a83e997-7b22-4b94-8b18-21413fa651d2"},{"name":"Update Default Data Dna","id":"777a229c-4788-428f-96a4-195ff5232af5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[]},"response":[],"uid":"23122877-777a229c-4788-428f-96a4-195ff5232af5"}],"id":"29004c2b-1409-4187-b534-f9c4f47f778a","uid":"23122877-29004c2b-1409-4187-b534-f9c4f47f778a"}]}}